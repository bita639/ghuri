var $bm=function(){var nativeEvents=["change","click","mouseover","mouseout","keydown","load","keyup","mousemove","touchmove","scroll","ontouchstart","focusout"],customEvents=[],loadedJSLists=[],loadedCSSLists=[];var cancelxmlHttp=new XMLHttpRequest;var Constructor=function(selector){if(selector==="document"){this.elems=[document]}else if(selector==="window"){this.elems=[window]}else{this.elems=document.querySelectorAll(selector)}};var instantiate=function(selector){return new Constructor(selector)};Constructor.prototype.each=function(callback){if(!callback||typeof callback!=="function")return;for(var i=0;i<this.elems.length;i++){callback(this.elems[i],i)}return this};Constructor.prototype.postAjax=function(url,data,success,content_type){var content_type=typeof content_type!="undefined"?content_type:"application/x-www-form-urlencoded";var params=typeof data!="object"?data:Object.keys(data).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(data[k])}).join("&");if(content_type=="application/json;charset=UTF-8"){params=JSON.stringify(data)}var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");xhr.open("POST.html",url);xhr.onreadystatechange=function(){if(xhr.readyState>3&&xhr.status==200){success(xhr.responseText)}};xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("Content-Type",content_type);xhr.send(params);return xhr};Constructor.prototype.addListener=function(type,func){type=type=="touchmove"&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)?"scroll":type;if(nativeEvents.indexOf(type)>-1){this.each(function(item){item.addEventListener(type,func,false)})}return this};Constructor.prototype.removeListener=function(type,func){if(nativeEvents.indexOf(type)>-1){this.each(function(item){item.removeEventListener(type,func,false)})}return this};Constructor.prototype.get=function(url,callback){return httpGetAsync(url,callback);function httpGetAsync(url,callback){var xmlHttp=new XMLHttpRequest;xmlHttp.onreadystatechange=function(){if(xmlHttp.readyState==4&&xmlHttp.status==200)callback(xmlHttp.responseText)};xmlHttp.open("GET.html",url,true);xmlHttp.send(null)}};Constructor.prototype.cancellerableget=function(url,callback){return httpGetAsync(url,callback);function httpGetAsync(url,callback){if(cancelxmlHttp&&cancelxmlHttp.readystate!=4){cancelxmlHttp.abort()}cancelxmlHttp.onreadystatechange=function(){if(cancelxmlHttp.readyState==4&&cancelxmlHttp.status==200)callback(cancelxmlHttp.responseText)};cancelxmlHttp.open("GET.html",url,true);cancelxmlHttp.send(null)}};Constructor.prototype.injectDOM=function(){try{var attribute=arguments[0];var dom=arguments[1];var type=!!arguments[2]?arguments[2]:"replace";var domView=document.querySelector(attribute);if(domView){type=="append"?domView.innerHTML+=domView?dom:"":domView.innerHTML=domView?dom:""}}catch(e){throw e}return this};Constructor.prototype.getInjectDOM=function(){try{var self=this;var url=arguments[0];var attribute=arguments[1];var domtype=arguments[2]||null;var callback=arguments[3]||undefined;var canceller=arguments[4]||false;canceller?this.cancellerableget(url,function(res){self.injectDOM(attribute,res,domtype);!!callback&&callback(res)}):this.get(url,function(res){self.injectDOM(attribute,res,domtype);!!callback&&callback(res)})}catch(e){throw e}};Constructor.prototype.loadJS=function(){var source=arguments[0];var callback=arguments[1];var rePull=arguments[2]||false;try{if(loadedJSLists.indexOf(source)>-1&&!rePull)return callback();var script=document.createElement("script");var prior=document.getElementsByTagName("script")[0];script.async=1;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;script=undefined;if(!isAbort&&callback){loadedJSLists.push(source);setTimeout(callback,0)}}};script.src=source;prior.parentNode.insertBefore(script,prior)}catch(e){throw e}};Constructor.prototype.loadCSS=function(path,callback){try{if(loadedCSSLists.indexOf(path)>-1)return callback();var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.setAttribute("href",path);link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");var sheet,cssRules;if("sheet"in link){sheet="sheet";cssRules="cssRules"}else{sheet="styleSheet";cssRules="rules"}head.appendChild(link);loadedCSSLists.push(path);callback()}catch(e){throw e}};Constructor.prototype.getInputValue=function(){var values=[];this.each(function(item){values.push(item.value)});return values};Constructor.prototype.removeClass=function(str){this.each(function(item){str?item.classList.remove(str):item.className=""})};Constructor.prototype.addClass=function(str){this.each(function(item){item.classList.add(str)})};Constructor.prototype.toggleClass=function(str){this.each(function(item){item.classList.toggle(str)})};Constructor.prototype.removeDOM=function(){this.each(function(item){item.remove()})};Constructor.prototype.focus=function(){this.each(function(item){item.focus()})};Constructor.prototype.isInViewport=function(callback){this.each(function(item){callback(helpers("viewport",item))})};Constructor.prototype.isInViewportWithEvent=function(callback){this.each(function(item){callback(helpers("viewport",item),item)})};Constructor.prototype.showDOM=function(){this.each(function(item){item.style.display="block"})};Constructor.prototype.hideDOM=function(){this.each(function(item){item.style.display="none"})};Constructor.prototype.fadeOut=function(){this.each(function(item){item.style.transition="opacity 400ms ease";setTimeout(function(){item.style.opacity=0},20);setTimeout(function(){item.style.display="none"},420)})};Constructor.prototype.fadeIn=function(){this.each(function(item){item.style.opacity=0;item.style.display="block";item.style.transition="opacity 400ms ease";setTimeout(function(){item.style.opacity=1},20)})};Constructor.prototype.toggleDom=function(){this.each(function(item){item.style.display=item.style.display=="block"?"none":"block"})};Constructor.prototype.toggleDomWithValue=function(value){this.each(function(item){item.style.display=value})};Constructor.prototype.showDOMInline=function(){this.each(function(item){item.style.display="inline-block"})};Constructor.prototype.changeInnerText=function(str,supportHTML){this.each(function(item){if(supportHTML==true){item.innerHTML=str}else item.innerText=str})};Constructor.prototype.hasClass=function(classname){var hasCls=false;this.each(function(item){hasCls=item.className.split(/\s/).indexOf(classname)>=0});return hasCls};Constructor.prototype.setAttribute=function(attribute,value){this.each(function(item){item.setAttribute(attribute,value)})};Constructor.prototype.getDataSets=function(){var datasets=[];this.each(function(item){datasets.push(Object.assign({},item.dataset))});return datasets};Constructor.prototype.click=function(){this.each(function(item){try{item.click()}catch(e){console.log(e)}})};Constructor.prototype.children=function(){var res=[];this.each(function(item){res=item.children});return res};Constructor.prototype.watch=function(object,key,callback){object.watch(""+key,function(id,oldval,newval){callback(id,oldval,newval)})};Constructor.prototype.unwatch=function(object,key){object.unwatch(""+key)};var helpers=function(){var viewport=function(arguments){try{var el=arguments[1];if(el){var top=el.offsetTop;var left=el.offsetLeft;var width=el.offsetWidth;var height=el.offsetHeight;while(el.offsetParent){el=el.offsetParent;top+=el.offsetTop;left+=el.offsetLeft}return top<window.pageYOffset+window.innerHeight&&left<window.pageXOffset+window.innerWidth&&top+height>window.pageYOffset&&left+width>window.pageXOffset}return false}catch(e){throw e}};try{return eval(arguments[0])(arguments)}catch(e){throw e}};return instantiate}();if(!Object.prototype.watch){Object.defineProperty(Object.prototype,"watch",{enumerable:false,configurable:true,writable:false,value:function(prop,handler){var oldval=this[prop],newval=oldval,getter=function(){return newval},setter=function(val){oldval=newval;return newval=handler.call(this,prop,oldval,val)};if(delete this[prop]){Object.defineProperty(this,prop,{get:getter,set:setter,enumerable:true,configurable:true})}}})}if(!Object.prototype.unwatch){Object.defineProperty(Object.prototype,"unwatch",{enumerable:false,configurable:true,writable:false,value:function(prop){var val=this[prop];delete this[prop];this[prop]=val}})}var BMScrollTo={documentVerticalScrollPosition:function(){if(self.pageYOffset)return self.pageYOffset;if(document.documentElement&&document.documentElement.scrollTop)return document.documentElement.scrollTop;if(document.body.scrollTop)return document.body.scrollTop;return 0},viewportHeight:function(){return document.compatMode==="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight},documentHeight:function(){return document.height!==undefined?document.height:document.body.offsetHeight},documentMaximumScrollPosition:function(){return this.documentHeight()-this.viewportHeight()},elementVerticalClientPositionById:function(id){var element=document.getElementById(id);var rectangle=element.getBoundingClientRect();return rectangle.top},scrollVerticalTickToPosition:function(currentPosition,targetPosition){var filter=.2;var fps=60;var difference=parseFloat(targetPosition)-parseFloat(currentPosition);var arrived=Math.abs(difference)<=.5;if(arrived){scrollTo(0,targetPosition);return}currentPosition=parseFloat(currentPosition)*(1-filter)+parseFloat(targetPosition)*filter;scrollTo(0,Math.round(currentPosition));setTimeout("BMScrollTo.scrollVerticalTickToPosition("+currentPosition+", "+targetPosition+")",1e3/fps)},scrollVerticalToElementById:function(id,padding){var element=document.getElementById(id);if(element==null){console.warn("Cannot find element with id '"+id+"'.");return}var targetPosition=this.documentVerticalScrollPosition()+this.elementVerticalClientPositionById(id)-padding;var currentPosition=this.documentVerticalScrollPosition();var maximumScrollPosition=this.documentMaximumScrollPosition();if(targetPosition>maximumScrollPosition)targetPosition=maximumScrollPosition;this.scrollVerticalTickToPosition(currentPosition,targetPosition)}};;"use strict";var injectAction;function GlobalSearch(){this.login_url=baseUrl+"/user/login?redirect=1";this.isUserLogin=user_is!="";this.loadingViewContent=null;this.loadingView=document.getElementById("loading_spinner")||undefined;this.notificationView='<div class="noti {{type}}">{{content}}<a href="javascript:void(0)" class="noti-close" id="mbl-noti-close"><span class="icon-cross97"></span></a></div>';this.loginJSUrl=baseUrl+"/js/app/loginInit.js?v=6";this.user={isLogin:this.isUserLogin};this.isMobile=isMobile?1:0;this.user_id=null;this.baseUrl=baseUrl}GlobalSearch.prototype.init=function(){$bm("#mbl-login-button").addListener("click",function(e){e.preventDefault();global.openLogin()})};GlobalSearch.prototype.openLogin=function(){if(!this.isMobile){handleLoginClickEvent()}else{global.loadingViewContent="<i>Please wait</i>";global.loadinViewAction();$bm("document").loadJS(global.loginJSUrl,function(){injectAction=new InjectAction;injectAction.isMobile=true;injectAction.initialize(baseUrl+"/js/app/login.js?v=19",function(){!!injectAction.loginFileInjected&&injectAction.showModal()})})}};GlobalSearch.prototype.goto=function(url){window.location=url};GlobalSearch.prototype.showNotification=function(type,content){var notificationView=this.notificationView;notificationView=notificationView.replace("{{type}}",type);notificationView=notificationView.replace("{{content}}",content);$bm("#noti-view").injectDOM("#noti-view",notificationView,"append")};GlobalSearch.prototype.hideNotification=function(){if(!!document.querySelector("#noti-view > div")){document.querySelector("#noti-view > div").remove()}};GlobalSearch.prototype.loadinViewAction=function(type){if(!!this.loadingView){type=typeof type=="undefined"?"add":type;if(type=="add"&&this.loadingViewContent){this.loadingView.innerHTML='<span class="spinner-circle"></span>'+this.loadingViewContent}this.loadingView.style.display=type=="remove"?"none":"block";if(this.loadingViewContent&&type=="remove"){global=new GlobalSearch}}};GlobalSearch.prototype.watchLoginStatus=function(){$bm("document").watch(global.user,"isLogin",function(id,oldval,newval){oldval==false&&newval==true&&profileDropView.updateUserProfileDropDown();newval==true&&$bm("document").unwatch(global.user,"isLogin")})};GlobalSearch.prototype.setUserLoginStatus=function(status){global.user.isLogin=status};var global=new GlobalSearch;global.init();global.watchLoginStatus();function SeachDropdown(){this.choosen=-1;this.limit=0;this.goto=null}SeachDropdown.prototype.listen=function(){var self=this;$bm("[type=search]").addListener("keydown",function(e){e.keyCode==40&&self.action("down");e.keyCode==38&&self.action("up");e.keyCode==13&&self.action("enter")})};SeachDropdown.prototype.action=function(type){if(type=="down"){if(this.choosen<this.limit-1){this.choosen=this.choosen==-1?0:this.choosen+1;var deSelectChoosen=this.choosen>0?this.choosen-1:null;deSelectChoosen>-1&&$bm('[data-search-key="'+deSelectChoosen+'"]').removeClass("selected");$bm('[data-search-key="'+this.choosen+'"]').addClass("selected")}}if(type=="up"){if(this.choosen>-1){this.choosen=this.choosen-1;var deSelectChoosen=this.choosen+1;deSelectChoosen>-1&&$bm('[data-search-key="'+deSelectChoosen+'"]').removeClass("selected");$bm('[data-search-key="'+this.choosen+'"]').addClass("selected")}}var enterDom=document.querySelector('[data-search-key="'+this.choosen+'"]');if(this.choosen>-1&&enterDom){searchDropDown.goto=enterDom.href;type=="enter"&&global.goto(searchDropDown.goto)}else{searchDropDown.goto=null}};var searchDropDown=new SeachDropdown;searchDropDown.listen();var searchButton=$bm("#mbl-search-icon");var searchInput=null;searchButton.addListener("click",pullSearchView);function pullSearchView(event){event.preventDefault();searchButton.injectDOM(".top-search-form",searchFormView.sView,"replace");try{searchInput=document.querySelector("input[type=search]");searchInput.value=event.target.dataset.queryValue;$bm("#mbl-query-search-btn").addListener("click",searchFormView.searchQueryButtonClicked)}catch(e){}searchFormView.hideShow()}var searchFormView=new SearchFormView;function SearchFormView(){this.sView='<div class="search-input"><input type="search" class="form-control" placeholder="Search"></div><button type="submit" value="Search" id="mbl-query-search-btn"><span class="icon-search icon-magnifying-glass"></span></button><div class="suggestions-dropdown" id="mbl-suggestions-dropdown"><div class="suggestions-holder"><div class="spinner-circle" id="mbl-bar-suggestion-spinner" style="display: none;"></div><div id="mbl-top-bar-suggestions"></div></div></div>';this.suggestions=[];this.suggestionDOM=$bm(".suggestions-dropdown");if(document.getElementById("mbl-suggestions-dropdown")&&global.isMobile)document.getElementById("mbl-suggestions-dropdown").style.display="block";this.oldSeachText=""}SearchFormView.prototype.blockSubmitDesktopOnly=function(){$bm("#mbl-query-search-btn").addListener("click",searchFormView.searchQueryButtonClicked)};SearchFormView.prototype.hideShow=function(){$bm(".top-search-form").toggleClass("active");$bm("[type=search]").focus()};SearchFormView.prototype.searchQueryButtonClicked=function(event){event.preventDefault();var q=document.querySelector("input[type=search]").value;var len=q.replace(/\s/g,"").length;if(len>0){var url=searchDropDown.goto?searchDropDown.goto:baseUrl+"?q="+q.replace(/\s/g,"+");searchDropDown.goto=null;global.goto(url)}};SearchFormView.prototype.getSuggestions=function(query,type){this.oldSeachText=query;var len=query.replace(/\s/g,"").length;var self=this;if(!global.isMobile){document.getElementById("mbl-suggestions-dropdown").style.display=len>3?"block":"none"}if(type=="notrip"){if(len>=3){this.suggestionSpinner("block");var url=baseUrl+"/dom/getsuggestiondommbl?query="+query+"&notrip=1";$bm("#mbl-suggestion-holder").getInjectDOM(url,"#mbl-suggestion-holder","replace",function(res){self.suggestionSpinner("none");searchDropDown.limit=$bm("[data-search-key]").elems.length;document.getElementById("mbl-suggestions-dropdown").style.display="block"},true)}else{this.hideSuggestionBox(type)}}if(type=="bar"){if(len>=3){this.barSuggestionSpinner("block");var url=baseUrl+"/dom/getsuggestiondommbl?query="+query;$bm("#mbl-top-bar-suggestions").getInjectDOM(url,"#mbl-top-bar-suggestions","replace",function(res){self.barSuggestionSpinner("none");searchDropDown.limit=$bm("[data-search-key]").elems.length;document.getElementById("mbl-suggestions-dropdown").style.display="block"},true)}else{this.hideSuggestionBox(type);self.barSuggestionSpinner("none")}}};SearchFormView.prototype.suggestionSpinner=function(type){if(document.getElementById("mbl-suggestion-spinner"))document.getElementById("mbl-suggestion-spinner").style.display=type};SearchFormView.prototype.barSuggestionSpinner=function(type){if(document.getElementById("mbl-bar-suggestion-spinner")){document.getElementById("mbl-bar-suggestion-spinner").style.display=type;if(type=="block"){$bm("#mbl-suggestions-dropdown").addClass("loading")}else{$bm("#mbl-suggestions-dropdown").removeClass("loading")}}};SearchFormView.prototype.hideSuggestionBox=function(type){type=="notrip"&&$bm("#mbl-suggestion-holder").injectDOM("#mbl-suggestion-holder","","replace");type=="bar"&&$bm("#mbl-top-bar-suggestions").injectDOM("#mbl-top-bar-suggestions","","replace")};$bm("#mbl-home-search-button2").addListener("click",function(e){e.preventDefault();var q=document.getElementById("no-trip-input")?document.getElementById("no-trip-input").value:document.querySelector("input[type=search-no-trip]").value;makeBarSearch(q)});function makeBarSearch(q){var len=q.replace(/\s/g,"").length;if(len>0){var url=baseUrl+"?q="+q.replace(/\s/g,"+");global.goto(url)}}$bm("#no-trip-input").addListener("keydown",function(e){var key=e.which||e.keyCode;if(key===13&&!searchDropDown.goto){var q=e.target.value;makeBarSearch(q)}});document.addEventListener("keyup",function(e){if(e.target.id=="no-trip-input"&&searchFormView.oldSeachText!=e.target.value){searchFormView.getSuggestions(e.target.value,"notrip");return}if(e.target.type=="search"&&searchFormView.oldSeachText!=e.target.value){searchFormView.getSuggestions(e.target.value,"bar")}e.stopPropagation()});searchFormView.suggestionSpinner("none");!global.isMobile&&searchFormView.blockSubmitDesktopOnly();function ProfileDropView(){this.loading=false;this.dom=null;this.profileDropDownButton=null;this.dropdownUrl=global.isMobile?baseUrl+"/dom/mobileprofiledropdown":baseUrl+"/dom/desktopprofiledropdown"}ProfileDropView.prototype.dropDown=function(inject){this.loading=true;try{var self=this;!this.dom&&this.pull(function(){inject&&self.showHide()});this.dom&&inject&&self.showHide();this.loading=!inject?false:this.loading}catch(e){console.log(e)}};function pullProfileDropDownOnMove(){$bm("document").removeListener("mousemove",pullProfileDropDownOnMove);profileDropView.pull(function(){})}ProfileDropView.prototype.pull=function(callback){var self=this;this.profileDropDownButton.getInjectDOM(this.dropdownUrl,"#mbl-p-dropdown","replace",function(res){self.dom=res;typeof callback=="function"?callback():void 0})};ProfileDropView.prototype.init=function(){this.profileDropDownButton=$bm("#mbl-user-profile-dropwdown-view");$bm("document").addListener("mousemove",pullProfileDropDownOnMove);this.profileDropDownButton.addListener("click",function(event){!profileDropView.loading&&profileDropView.dropDown(true)});$bm("document").addListener("touchmove",profileDropViewPull)};ProfileDropView.prototype.showHide=function(){this.loading=false;$bm("#mbl-user-profile-dropwdown-view").toggleClass("active");$bm(".prof").toggleClass("active")};ProfileDropView.prototype.hide=function(){this.loading=false;$bm("#mbl-user-profile-dropwdown-view").removeClass("active");$bm(".prof").removeClass("active")};ProfileDropView.prototype.updateUserProfileDropDown=function(){var url=baseUrl+"/dom/logindom?m="+global.isMobile;var oldDom=document.getElementById("mbl-non-login-header");!global.isMobile&&oldDom.classList.add("prof");$bm("document").get(url,function(res){var response=JSON.parse(res);mychannel="channel_"+response.id;if(!!global){global.user_id=response.id}typeof PusherConnect=="function"&&PusherConnect();profileDropView.loading=false;$bm("document").injectDOM("#mbl-non-login-header",response.dom,"replace");if(!global.isMobile&&response.mdom){$bm("document").injectDOM("#link-register-header",response.mdom,"replace")}setTimeout(function(){profileDropView.init()},100)})};function profileDropViewPull(){!profileDropView.loading&&profileDropView.dropDown(false);$bm("document").removeListener("touchmove",profileDropViewPull)}var profileDropView=new ProfileDropView;global.isUserLogin&&profileDropView.init();function Footer(){}Footer.prototype.injectDOM=function(){var self=this;$bm("#mbl-footer-right").getInjectDOM(baseUrl+"/dom/mobilefooterview","#mbl-footer-right","replace",function(res){loadFBTwitter();footer.addCurrencyEventListener();emailSubs.listenInput()})};Footer.prototype.addCurrencyEventListener=function(){setTimeout(function(){currencyPicker.injectOptionDom()},500);reInitListenActions()};reInitListenActions();function reInitListenActions(){setTimeout(function(){if(is_touch_device()){document.addEventListener("touchstart",universalHandler,false)}else{document.addEventListener("click",universalHandler,false)}document.addEventListener("click",customHandler,false)},500)}function is_touch_device(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}var currencyPicker=new CurrencyPicker;function CurrencyPicker(){this.selected_currency=null;this.selected_seperator=null}CurrencyPicker.prototype.change=function(event){try{var options=document.getElementById("changeCurrencyFooter").options;var selected=event.target.selectedOptions[0];this.selected_currency=selected.value;this.selected_seperator=selected.getAttribute("data-seperator");for(var key in options){if(typeof options[key]=="object"&&options[key].value!=""){options[key].value!=this.selected_currency?options[key].removeAttribute("selected"):options[key].setAttribute("selected",true)}}this.refreshPage()}catch(e){console.log(e)}};CurrencyPicker.prototype.refreshPage=function(){this.selected_seperator=this.selected_seperator=="."?"dot":this.selected_seperator==","?"comma":this.selected_seperator==" "?"space":this.selected_seperator=="'"?"apos":"";var url=baseUrl+"/currencymanager/default/setcurrency/currency/"+this.selected_currency+"/seperator/"+this.selected_seperator;global&&global.loadinViewAction();$bm("document").get(url,function(){window.location.reload(true)})};CurrencyPicker.prototype.injectOptionDom=function(){try{var lists=JSON.parse(document.getElementById("changeCurrencyFooter").dataset.mblCurrencyOptions);var dropdown=document.getElementById("changeCurrencyFooter");if(dropdown.length==1){for(var key in lists){$bm("#changeCurrencyFooter").injectDOM("#changeCurrencyFooter",lists[key],"append")}}setTimeout((function(){dropdown.click()},100))}catch(e){console.log(e)}};function ScrollEvent(){this.currentScrollPos=0;this.isFooterInViewPort=false}ScrollEvent.prototype.start=function(){$bm("document").addListener("scroll",listeningScrollEvent)};ScrollEvent.prototype.stop=function(){$bm("document").removeListener("scroll",listeningScrollEvent)};ScrollEvent.prototype.scrollTo=function(pos){window.scrollTo(0,pos)};function listeningScrollEvent(e){try{var topSalesInfo=$bm("#topsales");if(!!topSalesInfo){if(window.pageYOffset>0){topSalesInfo.addClass("fixed-position")}else{topSalesInfo.removeClass("fixed-position")}}scroll.currentScrollPos=window.pageYOffset;!scroll.isFooterInViewPort&&$bm("#mbl-footer-right").isInViewport(function(is){scroll.isFooterInViewPort=is;if(scroll.isFooterInViewPort){footer.injectDOM()}});!scroll.isFooterInViewPort&&$bm("#footer").isInViewport(function(is){scroll.isFooterInViewPort=is;if(scroll.isFooterInViewPort){footer.injectDOM()}})}catch(err){console.log(err)}}var scrollEvent=new ScrollEvent;scrollEvent.start();var footer=new Footer;function EmailSubs(){this.email="";this.isSubmitting=false}EmailSubs.prototype.listenInput=function(){try{var self=this;$bm("#subs_email_input").addListener("keyup",function(e){e.preventDefault();self.email=e.target.value;self.isvalidateEmail()?$bm(".f-agree").showDOM():$bm(".f-agree").hideDOM();$bm("#error_sub_msg").hideDOM();$bm("#after_sub_msg").hideDOM()})}catch(e){console.log(e)}};EmailSubs.prototype.isvalidateEmail=function(){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(String(this.email).toLowerCase())};EmailSubs.prototype.isTermsPolicyAccepted=function(){return document.getElementById("footer-signup-check").checked||false};EmailSubs.prototype.submit=function(){try{var url=baseUrl+"/newsletter/ws/emailletter";var request={email:this.email};var isSubmitting=this.isSubmitting;this.isSubmitting=true;!this.isvalidateEmail()&&$bm("#error_sub_msg").showDOM();!isSubmitting&&this.isTermsPolicyAccepted()&&this.isvalidateEmail()?$bm("document").postAjax(url,request,function(res){emailSubs.isSubmitting=false;var response=JSON.parse(res);if(response.status){global.showNotification("green",response.message);$bm("#after_sub_msg").showDOM()}},"application/json;charset=UTF-8"):emailSubs.isSubmitting=false}catch(e){console.log(e)}};var emailSubs=new EmailSubs;function DiscountView(){this.trip_id=null;this.discountAmount=0;this.discountModal=null;this.inProgress=false}DiscountView.prototype.init=function(event){dataDiscount=$bm("[data-discount-save]");dataDiscount.addListener("click",function(event){event.preventDefault();bloader.show();try{discountView.trip_id=event.currentTarget.dataset.discountSave;discountView.discountAmount=event.currentTarget.dataset.discountAmount;!discountView.inProgress&&discountView.openDiscountModal()}catch(e){console.log(e)}})};DiscountView.prototype.openDiscountModal=function(){this.inProgress=true;var self=this;var jsUrl=baseUrl+"/src-js/app/unlockDiscountMbl.js";if(self.discountModal==null&&self.discountAmount){global.loadinViewAction();dataDiscount.getInjectDOM(baseUrl+"/dom/unlockdiscountmbl?m="+global.isMobile,"#data-discount-save-view","replace",function(res){self.discountModal=res;dataDiscount.loadJS(jsUrl,function(){inject();bloader.hide()})})}else if(self.discountModal!=null&&self.discountAmount){global.loadinViewAction();inject();bloader.hide()}function inject(){global.loadinViewAction("remove");self.inProgress=false;$bm("#unlock_discount_modal").addClass("active");var unlockText="Unlock <b>"+self.discountAmount+"</b> in Tour Savings";var selector="#unlock_discount_modal > div > div.locked-preview > div > strong";dataDiscount.injectDOM(selector,unlockText);reInitListenActions()}};var dataDiscount=$bm("[data-discount-save]");var discountView=new DiscountView;discountView.init();var hamburgerMenuButton=$bm("#menu-opener");hamburgerMenuButton.addListener("click",function(event){event.preventDefault();$bm("#wrapper").toggleClass("menu-active")});function loadFBTwitter(){(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="../connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=1581686285431624";fjs.parentNode.insertBefore(js,fjs)})(document,"script","facebook-jssdk");window.twttr=function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="../platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f)};return t}(document,"script","twitter-wjs")}function customHandler(e){try{if(e.target&&e.target.id=="map_view_close"||e.target.parentElement.id=="map_view_close"){$bm(".map-view").removeClass("active");setTimeout(function(){$bm("#d-mapview").removeClass("active")},500);console.log($bm("#d-mapview"))}}catch(err){console.log(err)}}function universalHandler(e){try{if(e.target&&e.target.id=="mbl-subscribers-submit"){emailSubs.submit()}if(e.target&&(e.target.id=="mbl-noti-close"||e.target.parentElement.id=="mbl-noti-close")){global.hideNotification()}if(e.target&&(e.target.id=="unlock_modal_close_a"||e.target.parentElement.id=="unlock_modal_close_a")){$bm("#unlock_discount_modal").removeClass("active")}if(e.target.className=="w1"){$bm("#wrapper").removeClass("menu-active")}if(typeof e.target.parentNode.parentNode!="undefined"){if(typeof e.target.parentNode.parentNode.dataset.bookingtypeid!="undefined"){var selector="[data-bookingtypeid = '"+e.target.parentNode.parentNode.dataset.bookingtypeid+"']";$bm(selector).toggleClass("hover")}else{$bm(".mbl-tooltip").removeClass("hover")}}!global.isMobile&&closeDropDownOnClickOutside(e)}catch(e){console.log(e)}}function closeDropDownOnClickOutside(e){var parentId=e.target.parentElement?e.target.parentElement.id:null;var id=e.target.id;var parentClass=e.target.parentElement.classList?e.target.parentElement.classList:[];parentClass=[].map.call(parentClass,function(e){return e});var className=e.target.classList?e.target.classList:[];className=[].map.call(className,function(e){return e});if(parentId!="mbl-user-profile-dropwdown-view"&&id!="mbl-user-profile-dropwdown-view"){profileDropView.hide()}if(parentId!="view_recent_tours"&&id!="view_recent_tours"){recentViewTours.recentClass.removeClass("active")}if(parentClass.indexOf("cur")==-1&&className.indexOf("cur")==-1){currencyDropDown.dropDownBtn.removeClass("active")}if((parentClass.indexOf("btn-sort")>-1||className.indexOf("btn-sort")>-1)&&typeof sortTrip!="undefined"){sortTrip.toggleSortOption()}else if(typeof sortTrip!="undefined"){sortTrip.close()}if((parentClass.indexOf("destination-dd")>-1||className.indexOf("destination-dd")>-1)&&(parentClass.indexOf("destination-dropdown-lists")==-1||className.indexOf("destination-dropdown-lists")==-1)&&typeof ddestinationDrop!="undefined"){ddestinationDrop.isdestInjected&&ddestinationDrop.toggleDropdown("dest")}else if(typeof ddestinationDrop!="undefined"&&parentClass.indexOf("destination-dropdown-lists")==-1&&className.indexOf("destination-dropdown-lists")==-1){ddestinationDrop.isdestInjected&&ddestinationDrop.close("dest")}if((parentClass.indexOf("activity-dd")>-1||className.indexOf("activity-dd")>-1)&&(parentClass.indexOf("activity-dropdown-lists")==-1||className.indexOf("activity-dropdown-lists")==-1)&&typeof ddestinationDrop!="undefined"){ddestinationDrop.isactInjected&&ddestinationDrop.toggleDropdown("act")}else if(typeof ddestinationDrop!="undefined"&&parentClass.indexOf("activity-dropdown-lists")==-1&&className.indexOf("activity-dropdown-lists")==-1){ddestinationDrop.isactInjected&&ddestinationDrop.close("act")}if(parentClass.indexOf("top-search")==-1){$bm("#mbl-suggestions-dropdown").hideDOM()}else{if(parentClass.indexOf("top-search")>-1){e.target.value.replace("/index.html","").length>0?searchFormView.getSuggestions(e.target.value,"bar"):void 0}}}document.addEventListener("change",function(e){if(e.target&&event.target.id=="changeCurrencyFooter"){e.preventDefault();currencyPicker.change(e)}});var imgLazyLoading=function(){function isVisible(el){var top=el.offsetTop;var left=el.offsetLeft;var width=el.offsetWidth;var height=el.offsetHeight;while(el.offsetParent){el=el.offsetParent;top+=el.offsetTop;left+=el.offsetLeft}return top<window.pageYOffset+window.innerHeight&&left<window.pageXOffset+window.innerWidth&&top+height>window.pageYOffset&&left+width>window.pageXOffset}function showVisible(){var forceLazyLoad=typeof arguments[0]=="boolean"?arguments[0]:false;var imageLists=document.querySelectorAll("img");for(var key in imageLists){var img=imageLists[key];var img=imageLists[key];if(img&&!!img.dataset){var realSrc=img.dataset.src;if(!realSrc)continue;var topParent=img.parentElement.parentElement.parentElement;var force=false;var hasLazyForceClass=false;try{hasLazyForceClass=img.classList.contains("force_lazy");force=forceLazyLoad&&hasLazyForceClass}catch(e){throw Error(e)}if(!!topParent&&!force){force=isVisible(topParent)}if(isVisible(img)||force){img.src=realSrc;img.dataset.src="";!!img.dataset.srcset&&img.setAttribute("srcset",img.dataset.srcset)}}}if(Array.from(document.querySelectorAll("[data-src]")).every(function(img){return img.getAttribute("data-src")===""}))window.removeEventListener("scroll",showVisible)}var forceLazyLoad=function(){showVisible(true)};window.addEventListener("scroll",showVisible);showVisible();return{forceLazyLoad:forceLazyLoad}};function CommonFunction(force){return{imageLazyLoading:imgLazyLoading}}var triggerImageLazyLoading=CommonFunction().imageLazyLoading;triggerImageLazyLoading();function MessageCounter(){this.audio=null;this.dom='<span class="msg-count">{{counter}}</span>';this.parentDom=$bm("[data-id=message-counter-parent]").elems[0];try{this.counter=this.parentDom.children.length==2?this.parentDom.children[1].innerText:0}catch(e){this.counter=0}}MessageCounter.prototype.listen=function(){try{if(this.parentDom.children.length!=2){this.counter>0&&this.initialDomInject()}else{this.counter=this.parentDom.children[1].innerText;this.makeMessageBlink()}}catch(e){}};MessageCounter.prototype.initialDomInject=function(){if(this.parentDom.children.length!=2){var newdom=this.dom.replace("{{counter}}",this.counter);$bm("document").injectDOM("[data-id=message-counter-parent]",newdom,"append")}};MessageCounter.prototype.increaseMessageCounter=function(count){try{this.parentDom=$bm("[data-id=message-counter-parent]").elems[0];this.initialDomInject();this.counter=parseInt(this.counter)+parseInt(count);var counterDom=this.parentDom.children[1];if(!!counterDom){counterDom.innerText=this.counter}this.removeCounterDom();this.playSound()}catch(e){}};MessageCounter.prototype.removeCounterDom=function(){this.counter==0&&this.parentDom.children[1].parentNode.removeChild(this.parentDom.children[1])};MessageCounter.prototype.playSound=function(){try{this.audio=this.audio==null?new Audio("files/sounds/newmessage.mp3"):this.audio;this.counter>0?this.audio.play():void 0;this.makeMessageBlink()}catch(e){}};MessageCounter.prototype.makeMessageBlink=function(){this.counter==0?$bm(".msg-top").removeClass("blinking"):$bm(".msg-top").addClass("blinking")};var messageCounter=new MessageCounter;messageCounter.listen();function CurrencyDropdown(){this.dropDownBtn=$bm(".cur")}CurrencyDropdown.prototype.listenHover=function(){$bm("document").addListener("mousemove",onHoverCurrencyPickerAction)};function onHoverCurrencyPickerAction(e){e.preventDefault();$bm("document").removeListener("mousemove",onHoverCurrencyPickerAction);var url=baseUrl+"/dom/currencypicker";$bm("document").getInjectDOM(url,".cur","append",function(){currencyDropDown.listenClick()},true)}CurrencyDropdown.prototype.listenClick=function(){this.dropDownBtn.addListener("click",function(e){e.preventDefault();currencyDropDown.dropDownBtn.toggleClass("active")})};var currencyDropDown=new CurrencyDropdown;!global.isMobile&&currencyDropDown.listenHover();function changeCurrency(curr,seperator){if(seperator=="."){seperator="dot"}if(seperator==","){seperator="comma"}if(seperator==" "){seperator="space"}if(seperator=="'"){seperator="apos"}url=baseUrl+"/currencymanager/default/setcurrency/currency/"+curr+"/seperator/"+seperator;$bm("document").get(url,function(){window.location.reload(true)})}function DesktopLogin(){this.loginBtn=$bm("#desktop-login-button");this.registerBtn=$bm("#desktop-register-button");this.activeView="signin"}DesktopLogin.prototype.init=function(){!!this.loginBtn&&this.loginBtn.addListener("click",function(e){e.preventDefault();desktopLogin.activeView="signin";handleLoginClickEvent()});!!this.registerBtn&&this.registerBtn.addListener("click",function(e){e.preventDefault();desktopLogin.activeView="register";handleLoginClickEvent()})};function handleLoginClickEvent(){$bm("document").loadJS(global.loginJSUrl,function(){injectAction=new InjectAction;injectAction.activeView=desktopLogin.activeView;var lUrl=baseUrl+"/js/app/login.js?v=17";injectAction.initialize(lUrl,function(){!!injectAction.loginFileInjected&&injectAction.showModal()})})}var desktopLogin=new DesktopLogin;desktopLogin.init();function RecentViewTours(){this.recentClass=$bm(".rt");this.btn=$bm("#view_recent_tours");this.domLists=null}RecentViewTours.prototype.listen=function(){this.btn.addListener("click",function(e){e.preventDefault();recentViewTours.recentClass.toggleClass("active");!recentViewTours.domLists&&recentViewTours.injectDom()})};RecentViewTours.prototype.injectDom=function(){var url=global.baseUrl+"/ws/getRecentTrips/";$bm("document").getInjectDOM(url,"#recent-dropdown-list","replace")};var recentViewTours=new RecentViewTours;recentViewTours.listen();if(typeof Storage!=="undefined"){try{if(localStorage.getItem("cookie-hide")==null){$bm(".cookie-bar").showDOM();setTimeout(function(){hideCookie()},1e4)}}catch(e){}}$bm(".btn-cookie").addListener("click",function(event){event.preventDefault();hideCookie()});function hideCookie(){if(typeof Storage!=="undefined"){try{localStorage.setItem("cookie-hide",true)}catch(e){}}$bm(".cookie-bar").hideDOM()};var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={manual:_self.Prism&&_self.Prism.manual,util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var i=r[e];if(2==arguments.length){a=arguments[1];for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);return i}var o={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o[s]=i[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var i in e)e.hasOwnProperty(i)&&(t.call(e,i,e[i],a||i),"Object"!==n.util.type(e[i])||r[n.util.objId(e[i])]?"Array"!==n.util.type(e[i])||r[n.util.objId(e[i])]||(r[n.util.objId(e[i])]=!0,n.languages.DFS(e[i],t,i,r)):(r[n.util.objId(e[i])]=!0,n.languages.DFS(e[i],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,i=a.elements||document.querySelectorAll(a.selector),l=0;r=i[l++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var i,l,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(i=(o.className.match(e)||[,""])[1].toLowerCase(),l=n.languages[i]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+i,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+i);var s=t.textContent,u={element:t,language:i,grammar:l,code:s};if(n.hooks.run("before-sanity-check",u),!u.code||!u.grammar)return u.code&&(n.hooks.run("before-highlight",u),u.element.textContent=u.code,n.hooks.run("after-highlight",u)),n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var g=new Worker(n.filename);g.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},g.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var i=n.tokenize(e,t);return a.stringify(n.util.encode(i),r)},matchGrammar:function(e,t,a,r,i,l,o){var s=n.Token;for(var u in a)if(a.hasOwnProperty(u)&&a[u]){if(u==o)return;var g=a[u];g="Array"===n.util.type(g)?g:[g];for(var c=0;c<g.length;++c){var h=g[c],f=h.inside,d=!!h.lookbehind,m=!!h.greedy,p=0,y=h.alias;if(m&&!h.pattern.global){var v=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}h=h.pattern||h;for(var b=r,k=i;b<t.length;k+=t[b].length,++b){var w=t[b];if(t.length>e.length)return;if(!(w instanceof s)){h.lastIndex=0;var _=h.exec(w),P=1;if(!_&&m&&b!=t.length-1){if(h.lastIndex=k,_=h.exec(e),!_)break;for(var A=_.index+(d?_[1].length:0),j=_.index+_[0].length,x=b,O=k,S=t.length;S>x&&(j>O||!t[x].type&&!t[x-1].greedy);++x)O+=t[x].length,A>=O&&(++b,k=O);if(t[b]instanceof s||t[x-1].greedy)continue;P=x-b,w=e.slice(k,O),_.index-=k}if(_){d&&(p=_[1].length);var A=_.index+p,_=_[0].slice(p),j=A+_.length,N=w.slice(0,A),C=w.slice(j),E=[b,P];N&&(++b,k+=N.length,E.push(N));var L=new s(u,f?n.tokenize(_,f):_,y,_,m);if(E.push(L),C&&E.push(C),Array.prototype.splice.apply(t,E),1!=P&&n.matchGrammar(e,t,a,b,k,!0,u),l)break}else if(l)break}}}}},tokenize:function(e,t){var a=[e],r=t.rest;if(r){for(var i in r)t[i]=r[i];delete t.rest}return n.matchGrammar(e,a,t,0,0,!1),a},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,i=0;r=a[i++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.length=0|(a||"").length,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var i={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==i.type&&(i.attributes.spellcheck="true"),e.alias){var l="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,l)}n.hooks.run("wrap",i);var o=Object.keys(i.attributes).map(function(e){return e+'="'+(i.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(o?" "+o:"")+">"+i.content+"</"+i.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,i=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),i&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,!document.addEventListener||n.manual||r.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[[^\]\r\n]+]|\\.|[^\/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript;;var tns=function(){var t=window,Ai=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,16)},e=window,Ni=e.cancelAnimationFrame||e.mozCancelAnimationFrame||function(t){clearTimeout(t)};function Li(){for(var t,e,n,i=arguments[0]||{},a=1,r=arguments.length;a<r;a++)if(null!==(t=arguments[a]))for(e in t)i!==(n=t[e])&&void 0!==n&&(i[e]=n);return i}function Bi(t){return 0<=["true","false"].indexOf(t)?JSON.parse(t):t}function Si(t,e,n,i){if(i)try{t.setItem(e,n)}catch(t){}return n}function Hi(){var t=document,e=t.body;return e||((e=t.createElement("body")).fake=!0),e}var n=document.documentElement;function Oi(t){var e="";return t.fake&&(e=n.style.overflow,t.style.background="",t.style.overflow=n.style.overflow="hidden",n.appendChild(t)),e}function Di(t,e){t.fake&&(t.remove(),n.style.overflow=e,n.offsetHeight)}function ki(t,e,n,i){"insertRule"in t?t.insertRule(e+"{"+n+"}",i):t.addRule(e,n,i)}function Ri(t){return("insertRule"in t?t.cssRules:t.rules).length}function Ii(t,e,n){for(var i=0,a=t.length;i<a;i++)e.call(n,t[i],i)}var i="classList"in document.createElement("_"),Pi=i?function(t,e){return t.classList.contains(e)}:function(t,e){return 0<=t.className.indexOf(e)},zi=i?function(t,e){Pi(t,e)||t.classList.add(e)}:function(t,e){Pi(t,e)||(t.className+=" "+e)},Wi=i?function(t,e){Pi(t,e)&&t.classList.remove(e)}:function(t,e){Pi(t,e)&&(t.className=t.className.replace(e,""))};function qi(t,e){return t.hasAttribute(e)}function Fi(t,e){return t.getAttribute(e)}function r(t){return void 0!==t.item}function ji(t,e){if(t=r(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function Vi(t,e){t=r(t)||t instanceof Array?t:[t];for(var n=(e=e instanceof Array?e:[e]).length,i=t.length;i--;)for(var a=n;a--;)t[i].removeAttribute(e[a])}function Gi(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n]);return e}function Qi(t,e){"none"!==t.style.display&&(t.style.display="none")}function Xi(t,e){"none"===t.style.display&&(t.style.display="")}function Yi(t){return"none"!==window.getComputedStyle(t).display}function Ki(e){if("string"==typeof e){var n=[e],i=e.charAt(0).toUpperCase()+e.substr(1);["Webkit","Moz","ms","O"].forEach(function(t){"ms"===t&&"transform"!==e||n.push(t+i)}),e=n}for(var t=document.createElement("fakeelement"),a=(e.length,0);a<e.length;a++){var r=e[a];if(void 0!==t.style[r])return r}return!1}function Ji(t,e){var n=!1;return/^Webkit/.test(t)?n="webkit"+e+"End":/^O/.test(t)?n="o"+e+"End":t&&(n=e.toLowerCase()+"end"),n}var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o)}catch(t){}var u=!!a&&{passive:!0};function Ui(t,e,n){for(var i in e){var a=0<=["touchstart","touchmove"].indexOf(i)&&!n&&u;t.addEventListener(i,e[i],a)}}function _i(t,e){for(var n in e){var i=0<=["touchstart","touchmove"].indexOf(n)&&u;t.removeEventListener(n,e[n],i)}}function Zi(){return{topics:{},on:function(t,e){this.topics[t]=this.topics[t]||[],this.topics[t].push(e)},off:function(t,e){if(this.topics[t])for(var n=0;n<this.topics[t].length;n++)if(this.topics[t][n]===e){this.topics[t].splice(n,1);break}},emit:function(e,n){n.type=e,this.topics[e]&&this.topics[e].forEach(function(t){t(n,e)})}}}Object.keys||(Object.keys=function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var $i=function(H){H=Li({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},H||{});var O=document,m=window,a={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},e={},n=H.useLocalStorage;if(n){var t=navigator.userAgent,i=new Date;try{(e=m.localStorage)?(e.setItem(i,i),n=e.getItem(i)==i,e.removeItem(i)):n=!1,n||(e={})}catch(t){n=!1}n&&(e.tnsApp&&e.tnsApp!==t&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(t){e.removeItem(t)}),localStorage.tnsApp=t)}var y=e.tC?Bi(e.tC):Si(e,"tC",function(){var t=document,e=Hi(),n=Oi(e),i=t.createElement("div"),a=!1;e.appendChild(i);try{for(var r,o="(10px * 10)",u=["calc"+o,"-moz-calc"+o,"-webkit-calc"+o],l=0;l<3;l++)if(r=u[l],i.style.width=r,100===i.offsetWidth){a=r.replace(o,"");break}}catch(t){}return e.fake?Di(e,n):i.remove(),a}(),n),g=e.tPL?Bi(e.tPL):Si(e,"tPL",function(){var t,e=document,n=Hi(),i=Oi(n),a=e.createElement("div"),r=e.createElement("div"),o="";a.className="tns-t-subp2",r.className="tns-t-ct";for(var u=0;u<70;u++)o+="<div></div>";return r.innerHTML=o,a.appendChild(r),n.appendChild(a),t=Math.abs(a.getBoundingClientRect().left-r.children[67].getBoundingClientRect().left)<2,n.fake?Di(n,i):a.remove(),t}(),n),D=e.tMQ?Bi(e.tMQ):Si(e,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var t,e=document,n=Hi(),i=Oi(n),a=e.createElement("div"),r=e.createElement("style"),o="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return r.type="text/css",a.className="tns-mq-test",n.appendChild(r),n.appendChild(a),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(e.createTextNode(o)),t=window.getComputedStyle?window.getComputedStyle(a).position:a.currentStyle.position,n.fake?Di(n,i):a.remove(),"absolute"===t}(),n),r=e.tTf?Bi(e.tTf):Si(e,"tTf",Ki("transform"),n),o=e.t3D?Bi(e.t3D):Si(e,"t3D",function(t){if(!t)return!1;if(!window.getComputedStyle)return!1;var e,n=document,i=Hi(),a=Oi(i),r=n.createElement("p"),o=9<t.length?"-"+t.slice(0,-9).toLowerCase()+"-":"";return o+="transform",i.insertBefore(r,null),r.style[t]="translate3d(1px,1px,1px)",e=window.getComputedStyle(r).getPropertyValue(o),i.fake?Di(i,a):r.remove(),void 0!==e&&0<e.length&&"none"!==e}(r),n),x=e.tTDu?Bi(e.tTDu):Si(e,"tTDu",Ki("transitionDuration"),n),u=e.tTDe?Bi(e.tTDe):Si(e,"tTDe",Ki("transitionDelay"),n),b=e.tADu?Bi(e.tADu):Si(e,"tADu",Ki("animationDuration"),n),l=e.tADe?Bi(e.tADe):Si(e,"tADe",Ki("animationDelay"),n),s=e.tTE?Bi(e.tTE):Si(e,"tTE",Ji(x,"Transition"),n),c=e.tAE?Bi(e.tAE):Si(e,"tAE",Ji(b,"Animation"),n),f=m.console&&"function"==typeof m.console.warn,d=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],v={};if(d.forEach(function(t){if("string"==typeof H[t]){var e=H[t],n=O.querySelector(e);if(v[t]=e,!n||!n.nodeName)return void(f&&console.warn("Can't find",H[t]));H[t]=n}}),!(H.container.children.length<1)){var k=H.responsive,R=H.nested,I="carousel"===H.mode;if(k){0 in k&&(H=Li(H,k[0]),delete k[0]);var p={};for(var h in k){var w=k[h];w="number"==typeof w?{items:w}:w,p[h]=w}k=p,p=null}if(I||function t(e){for(var n in e)I||("slideBy"===n&&(e[n]="page"),"edgePadding"===n&&(e[n]=!1),"autoHeight"===n&&(e[n]=!1)),"responsive"===n&&t(e[n])}(H),!I){H.axis="horizontal",H.slideBy="page",H.edgePadding=!1;var P=H.animateIn,z=H.animateOut,C=H.animateDelay,W=H.animateNormal}var M,q,F="horizontal"===H.axis,T=O.createElement("div"),j=O.createElement("div"),V=H.container,E=V.parentNode,A=V.outerHTML,G=V.children,Q=G.length,X=rn(),Y=!1;k&&En(),I&&(V.className+=" tns-vpfix");var N,L,B,S,K,J,U,_,Z,$=H.autoWidth,tt=sn("fixedWidth"),et=sn("edgePadding"),nt=sn("gutter"),it=un(),at=sn("center"),rt=$?1:Math.floor(sn("items")),ot=sn("slideBy"),ut=H.viewportMax||H.fixedWidthViewportWidth,lt=sn("arrowKeys"),st=sn("speed"),ct=H.rewind,ft=!ct&&H.loop,dt=sn("autoHeight"),vt=sn("controls"),pt=sn("controlsText"),ht=sn("nav"),mt=sn("touch"),yt=sn("mouseDrag"),gt=sn("autoplay"),xt=sn("autoplayTimeout"),bt=sn("autoplayText"),wt=sn("autoplayHoverPause"),Ct=sn("autoplayResetOnVisibility"),Mt=(U=null,_=sn("nonce"),Z=document.createElement("style"),U&&Z.setAttribute("media",U),_&&Z.setAttribute("nonce",_),document.querySelector("head").appendChild(Z),Z.sheet?Z.sheet:Z.styleSheet),Tt=H.lazyload,Et=H.lazyloadSelector,At=[],Nt=ft?(K=function(){{if($||tt&&!ut)return Q-1;var t=tt?"fixedWidth":"items",e=[];if((tt||H[t]<Q)&&e.push(H[t]),k)for(var n in k){var i=k[n][t];i&&(tt||i<Q)&&e.push(i)}return e.length||e.push(0),Math.ceil(tt?ut/Math.min.apply(null,e):Math.max.apply(null,e))}}(),J=I?Math.ceil((5*K-Q)/2):4*K-Q,J=Math.max(K,J),ln("edgePadding")?J+1:J):0,Lt=I?Q+2*Nt:Q+Nt,Bt=!(!tt&&!$||ft),St=tt?_n():null,Ht=!I||!ft,Ot=F?"left":"top",Dt="",kt="",Rt=tt?function(){return at&&!ft?Q-1:Math.ceil(-St/(tt+nt))}:$?function(){for(var t=0;t<Lt;t++)if(N[t]>=-St)return t}:function(){return at&&I&&!ft?Q-1:ft||I?Math.max(0,Lt-Math.ceil(rt)):Lt-1},It=en(sn("startIndex")),Pt=It,zt=(tn(),0),Wt=$?null:Rt(),qt=H.preventActionWhenRunning,Ft=H.swipeAngle,jt=!Ft||"?",Vt=!1,Gt=H.onInit,Qt=new Zi,Xt=" tns-slider tns-"+H.mode,Yt=V.id||(S=window.tnsId,window.tnsId=S?S+1:1,"tns"+window.tnsId),Kt=sn("disable"),Jt=!1,Ut=H.freezable,_t=!(!Ut||$)&&Tn(),Zt=!1,$t={click:oi,keydown:function(t){t=pi(t);var e=[a.LEFT,a.RIGHT].indexOf(t.keyCode);0<=e&&(0===e?we.disabled||oi(t,-1):Ce.disabled||oi(t,1))}},te={click:function(t){if(Vt){if(qt)return;ai()}var e=hi(t=pi(t));for(;e!==Ae&&!qi(e,"data-nav");)e=e.parentNode;if(qi(e,"data-nav")){var n=Se=Number(Fi(e,"data-nav")),i=tt||$?n*Q/Le:n*rt,a=le?n:Math.min(Math.ceil(i),Q-1);ri(a,t),He===n&&(Pe&&fi(),Se=-1)}},keydown:function(t){t=pi(t);var e=O.activeElement;if(!qi(e,"data-nav"))return;var n=[a.LEFT,a.RIGHT,a.ENTER,a.SPACE].indexOf(t.keyCode),i=Number(Fi(e,"data-nav"));0<=n&&(0===n?0<i&&vi(Ee[i-1]):1===n?i<Le-1&&vi(Ee[i+1]):ri(Se=i,t))}},ee={mouseover:function(){Pe&&(li(),ze=!0)},mouseout:function(){ze&&(ui(),ze=!1)}},ne={visibilitychange:function(){O.hidden?Pe&&(li(),qe=!0):qe&&(ui(),qe=!1)}},ie={keydown:function(t){t=pi(t);var e=[a.LEFT,a.RIGHT].indexOf(t.keyCode);0<=e&&oi(t,0===e?-1:1)}},ae={touchstart:xi,touchmove:bi,touchend:wi,touchcancel:wi},re={mousedown:xi,mousemove:bi,mouseup:wi,mouseleave:wi},oe=ln("controls"),ue=ln("nav"),le=!!$||H.navAsThumbnails,se=ln("autoplay"),ce=ln("touch"),fe=ln("mouseDrag"),de="tns-slide-active",ve="tns-slide-cloned",pe="tns-complete",he={load:function(t){kn(hi(t))},error:function(t){e=hi(t),zi(e,"failed"),Rn(e);var e}},me="force"===H.preventScrollOnTouch;if(oe)var ye,ge,xe=H.controlsContainer,be=H.controlsContainer?H.controlsContainer.outerHTML:"",we=H.prevButton,Ce=H.nextButton,Me=H.prevButton?H.prevButton.outerHTML:"",Te=H.nextButton?H.nextButton.outerHTML:"";if(ue)var Ee,Ae=H.navContainer,Ne=H.navContainer?H.navContainer.outerHTML:"",Le=$?Q:Mi(),Be=0,Se=-1,He=an(),Oe=He,De="tns-nav-active",ke="Carousel Page ",Re=" (Current Slide)";if(se)var Ie,Pe,ze,We,qe,Fe="forward"===H.autoplayDirection?1:-1,je=H.autoplayButton,Ve=H.autoplayButton?H.autoplayButton.outerHTML:"",Ge=["<span class='tns-visually-hidden'>"," animation</span>"];if(ce||fe)var Qe,Xe,Ye={},Ke={},Je=!1,Ue=F?function(t,e){return t.x-e.x}:function(t,e){return t.y-e.y};$||$e(Kt||_t),r&&(Ot=r,Dt="translate",o?(Dt+=F?"3d(":"3d(0px, ",kt=F?", 0px, 0px)":", 0px)"):(Dt+=F?"X(":"Y(",kt=")")),I&&(V.className=V.className.replace("tns-vpfix","")),function(){ln("gutter");T.className="tns-outer",j.className="tns-inner",T.id=Yt+"-ow",j.id=Yt+"-iw",""===V.id&&(V.id=Yt);Xt+=g||$?" tns-subpixel":" tns-no-subpixel",Xt+=y?" tns-calc":" tns-no-calc",$&&(Xt+=" tns-autowidth");Xt+=" tns-"+H.axis,V.className+=Xt,I?((M=O.createElement("div")).id=Yt+"-mw",M.className="tns-ovh",T.appendChild(M),M.appendChild(j)):T.appendChild(j);if(dt){var t=M||j;t.className+=" tns-ah"}if(E.insertBefore(T,V),j.appendChild(V),Ii(G,function(t,e){zi(t,"tns-item"),t.id||(t.id=Yt+"-item"+e),!I&&W&&zi(t,W),ji(t,{"aria-hidden":"true",tabindex:"-1"})}),Nt){for(var e=O.createDocumentFragment(),n=O.createDocumentFragment(),i=Nt;i--;){var a=i%Q,r=G[a].cloneNode(!0);if(zi(r,ve),Vi(r,"id"),n.insertBefore(r,n.firstChild),I){var o=G[Q-1-a].cloneNode(!0);zi(o,ve),Vi(o,"id"),e.appendChild(o)}}V.insertBefore(e,V.firstChild),V.appendChild(n),G=V.children}}(),function(){if(!I)for(var t=It,e=It+Math.min(Q,rt);t<e;t++){var n=G[t];n.style.left=100*(t-It)/rt+"%",zi(n,P),Wi(n,W)}F&&(g||$?(ki(Mt,"#"+Yt+" > .tns-item","font-size:"+m.getComputedStyle(G[0]).fontSize+";",Ri(Mt)),ki(Mt,"#"+Yt,"font-size:0;",Ri(Mt))):I&&Ii(G,function(t,e){var n;t.style.marginLeft=(n=e,y?y+"("+100*n+"% / "+Lt+")":100*n/Lt+"%")}));if(D){if(x){var i=M&&H.autoHeight?hn(H.speed):"";ki(Mt,"#"+Yt+"-mw",i,Ri(Mt))}i=cn(H.edgePadding,H.gutter,H.fixedWidth,H.speed,H.autoHeight),ki(Mt,"#"+Yt+"-iw",i,Ri(Mt)),I&&(i=F&&!$?"width:"+fn(H.fixedWidth,H.gutter,H.items)+";":"",x&&(i+=hn(st)),ki(Mt,"#"+Yt,i,Ri(Mt))),i=F&&!$?dn(H.fixedWidth,H.gutter,H.items):"",H.gutter&&(i+=vn(H.gutter)),I||(x&&(i+=hn(st)),b&&(i+=mn(st))),i&&ki(Mt,"#"+Yt+" > .tns-item",i,Ri(Mt))}else{I&&dt&&(M.style[x]=st/1e3+"s"),j.style.cssText=cn(et,nt,tt,dt),I&&F&&!$&&(V.style.width=fn(tt,nt,rt));var i=F&&!$?dn(tt,nt,rt):"";nt&&(i+=vn(nt)),i&&ki(Mt,"#"+Yt+" > .tns-item",i,Ri(Mt))}if(k&&D)for(var a in k){a=parseInt(a);var r=k[a],i="",o="",u="",l="",s="",c=$?null:sn("items",a),f=sn("fixedWidth",a),d=sn("speed",a),v=sn("edgePadding",a),p=sn("autoHeight",a),h=sn("gutter",a);x&&M&&sn("autoHeight",a)&&"speed"in r&&(o="#"+Yt+"-mw{"+hn(d)+"}"),("edgePadding"in r||"gutter"in r)&&(u="#"+Yt+"-iw{"+cn(v,h,f,d,p)+"}"),I&&F&&!$&&("fixedWidth"in r||"items"in r||tt&&"gutter"in r)&&(l="width:"+fn(f,h,c)+";"),x&&"speed"in r&&(l+=hn(d)),l&&(l="#"+Yt+"{"+l+"}"),("fixedWidth"in r||tt&&"gutter"in r||!I&&"items"in r)&&(s+=dn(f,h,c)),"gutter"in r&&(s+=vn(h)),!I&&"speed"in r&&(x&&(s+=hn(d)),b&&(s+=mn(d))),s&&(s="#"+Yt+" > .tns-item{"+s+"}"),(i=o+u+l+s)&&Mt.insertRule("@media (min-width: "+a/16+"em) {"+i+"}",Mt.cssRules.length)}}(),yn();var _e=ft?I?function(){var t=zt,e=Wt;t+=ot,e-=ot,et?(t+=1,e-=1):tt&&(it+nt)%(tt+nt)&&(e-=1),Nt&&(e<It?It-=Q:It<t&&(It+=Q))}:function(){if(Wt<It)for(;zt+Q<=It;)It-=Q;else if(It<zt)for(;It<=Wt-Q;)It+=Q}:function(){It=Math.max(zt,Math.min(Wt,It))},Ze=I?function(){var e,n,i,a,t,r,o,u,l,s,c;Jn(V,""),x||!st?(ti(),st&&Yi(V)||ai()):(e=V,n=Ot,i=Dt,a=kt,t=Zn(),r=st,o=ai,u=Math.min(r,10),l=0<=t.indexOf("%")?"%":"px",t=t.replace(l,""),s=Number(e.style[n].replace(i,"").replace(a,"").replace(l,"")),c=(t-s)/r*u,setTimeout(function t(){r-=u,s+=c,e.style[n]=i+s+l+a,0<r?setTimeout(t,u):o()},u)),F||Ci()}:function(){At=[];var t={};t[s]=t[c]=ai,_i(G[Pt],t),Ui(G[It],t),ei(Pt,P,z,!0),ei(It,W,P),s&&c&&st&&Yi(V)||ai()};return{version:"2.9.2",getInfo:Ei,events:Qt,goTo:ri,play:function(){gt&&!Pe&&(ci(),We=!1)},pause:function(){Pe&&(fi(),We=!0)},isOn:Y,updateSliderHeight:Fn,refresh:yn,destroy:function(){if(Mt.disabled=!0,Mt.ownerNode&&Mt.ownerNode.remove(),_i(m,{resize:Cn}),lt&&_i(O,ie),xe&&_i(xe,$t),Ae&&_i(Ae,te),_i(V,ee),_i(V,ne),je&&_i(je,{click:di}),gt&&clearInterval(Ie),I&&s){var t={};t[s]=ai,_i(V,t)}mt&&_i(V,ae),yt&&_i(V,re);var r=[A,be,Me,Te,Ne,Ve];for(var e in d.forEach(function(t,e){var n="container"===t?T:H[t];if("object"==typeof n&&n){var i=!!n.previousElementSibling&&n.previousElementSibling,a=n.parentNode;n.outerHTML=r[e],H[t]=i?i.nextElementSibling:a.firstElementChild}}),d=P=z=C=W=F=T=j=V=E=A=G=Q=q=X=$=tt=et=nt=it=rt=ot=ut=lt=st=ct=ft=dt=Mt=Tt=N=At=Nt=Lt=Bt=St=Ht=Ot=Dt=kt=Rt=It=Pt=zt=Wt=Ft=jt=Vt=Gt=Qt=Xt=Yt=Kt=Jt=Ut=_t=Zt=$t=te=ee=ne=ie=ae=re=oe=ue=le=se=ce=fe=de=pe=he=L=vt=pt=xe=be=we=Ce=ye=ge=ht=Ae=Ne=Ee=Le=Be=Se=He=Oe=De=ke=Re=gt=xt=Fe=bt=wt=je=Ve=Ct=Ge=Ie=Pe=ze=We=qe=Ye=Ke=Qe=Je=Xe=Ue=mt=yt=null,this)"rebuild"!==e&&(this[e]=null);Y=!1},rebuild:function(){return $i(Li(H,v))}}}function $e(t){t&&(vt=ht=mt=yt=lt=gt=wt=Ct=!1)}function tn(){for(var t=I?It-Nt:It;t<0;)t+=Q;return t%Q+1}function en(t){return t=t?Math.max(0,Math.min(ft?Q-1:Q-rt,t)):0,I?t+Nt:t}function nn(t){for(null==t&&(t=It),I&&(t-=Nt);t<0;)t+=Q;return Math.floor(t%Q)}function an(){var t,e=nn();return t=le?e:tt||$?Math.ceil((e+1)*Le/Q-1):Math.floor(e/rt),!ft&&I&&It===Wt&&(t=Le-1),t}function rn(){return m.innerWidth||O.documentElement.clientWidth||O.body.clientWidth}function on(t){return"top"===t?"afterbegin":"beforeend"}function un(){var t=et?2*et-nt:0;return function t(e){if(null!=e){var n,i,a=O.createElement("div");return e.appendChild(a),i=(n=a.getBoundingClientRect()).right-n.left,a.remove(),i||t(e.parentNode)}}(E)-t}function ln(t){if(H[t])return!0;if(k)for(var e in k)if(k[e][t])return!0;return!1}function sn(t,e){if(null==e&&(e=X),"items"===t&&tt)return Math.floor((it+nt)/(tt+nt))||1;var n=H[t];if(k)for(var i in k)e>=parseInt(i)&&t in k[i]&&(n=k[i][t]);return"slideBy"===t&&"page"===n&&(n=sn("items")),I||"slideBy"!==t&&"items"!==t||(n=Math.floor(n)),n}function cn(t,e,n,i,a){var r="";if(void 0!==t){var o=t;e&&(o-=e),r=F?"margin: 0 "+o+"px 0 "+t+"px;":"margin: "+t+"px 0 "+o+"px 0;"}else if(e&&!n){var u="-"+e+"px";r="margin: 0 "+(F?u+" 0 0":"0 "+u+" 0")+";"}return!I&&a&&x&&i&&(r+=hn(i)),r}function fn(t,e,n){return t?(t+e)*Lt+"px":y?y+"("+100*Lt+"% / "+n+")":100*Lt/n+"%"}function dn(t,e,n){var i;if(t)i=t+e+"px";else{I||(n=Math.floor(n));var a=I?Lt:n;i=y?y+"(100% / "+a+")":100/a+"%"}return i="width:"+i,"inner"!==R?i+";":i+" !important;"}function vn(t){var e="";!1!==t&&(e=(F?"padding-":"margin-")+(F?"right":"bottom")+": "+t+"px;");return e}function pn(t,e){var n=t.substring(0,t.length-e).toLowerCase();return n&&(n="-"+n+"-"),n}function hn(t){return pn(x,18)+"transition-duration:"+t/1e3+"s;"}function mn(t){return pn(b,17)+"animation-duration:"+t/1e3+"s;"}function yn(){if(ln("autoHeight")||$||!F){var t=V.querySelectorAll("img");Ii(t,function(t){var e=t.src;Tt||(e&&e.indexOf("data:image")<0?(t.src="",Ui(t,he),zi(t,"loading"),t.src=e):kn(t))}),Ai(function(){zn(Gi(t),function(){L=!0})}),ln("autoHeight")&&(t=In(It,Math.min(It+rt-1,Lt-1))),Tt?gn():Ai(function(){zn(Gi(t),gn)})}else I&&$n(),bn(),wn()}function gn(){if($&&1<Q){var i=ft?It:Q-1;!function t(){var e=G[i].getBoundingClientRect().left,n=G[i-1].getBoundingClientRect().right;Math.abs(e-n)<=1?xn():setTimeout(function(){t()},16)}()}else xn()}function xn(){F&&!$||(jn(),$?(St=_n(),Ut&&(_t=Tn()),Wt=Rt(),$e(Kt||_t)):Ci()),I&&$n(),bn(),wn()}function bn(){if(Vn(),T.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Hn()+"</span>  of "+Q+"</div>"),B=T.querySelector(".tns-liveregion .current"),se){var t=gt?"stop":"start";je?ji(je,{"data-action":t}):H.autoplayButtonOutput&&(T.insertAdjacentHTML(on(H.autoplayPosition),'<button type="button" data-action="'+t+'">'+Ge[0]+t+Ge[1]+bt[0]+"</button>"),je=T.querySelector("[data-action]")),je&&Ui(je,{click:di}),gt&&(ci(),wt&&Ui(V,ee),Ct&&Ui(V,ne))}if(ue){if(Ae)ji(Ae,{"aria-label":"Carousel Pagination"}),Ii(Ee=Ae.children,function(t,e){ji(t,{"data-nav":e,tabindex:"-1","aria-label":ke+(e+1),"aria-controls":Yt})});else{for(var e="",n=le?"":'style="display:none"',i=0;i<Q;i++)e+='<button type="button" data-nav="'+i+'" tabindex="-1" aria-controls="'+Yt+'" '+n+' aria-label="'+ke+(i+1)+'"></button>';e='<div class="tns-nav" aria-label="Carousel Pagination">'+e+"</div>",T.insertAdjacentHTML(on(H.navPosition),e),Ae=T.querySelector(".tns-nav"),Ee=Ae.children}if(Ti(),x){var a=x.substring(0,x.length-18).toLowerCase(),r="transition: all "+st/1e3+"s";a&&(r="-"+a+"-"+r),ki(Mt,"[aria-controls^="+Yt+"-item]",r,Ri(Mt))}ji(Ee[He],{"aria-label":ke+(He+1)+Re}),Vi(Ee[He],"tabindex"),zi(Ee[He],De),Ui(Ae,te)}oe&&(xe||we&&Ce||(T.insertAdjacentHTML(on(H.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+Yt+'">'+pt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+Yt+'">'+pt[1]+"</button></div>"),xe=T.querySelector(".tns-controls")),we&&Ce||(we=xe.children[0],Ce=xe.children[1]),H.controlsContainer&&ji(xe,{"aria-label":"Carousel Navigation",tabindex:"0"}),(H.controlsContainer||H.prevButton&&H.nextButton)&&ji([we,Ce],{"aria-controls":Yt,tabindex:"-1"}),(H.controlsContainer||H.prevButton&&H.nextButton)&&(ji(we,{"data-controls":"prev"}),ji(Ce,{"data-controls":"next"})),ye=Qn(we),ge=Qn(Ce),Kn(),xe?Ui(xe,$t):(Ui(we,$t),Ui(Ce,$t))),An()}function wn(){if(I&&s){var t={};t[s]=ai,Ui(V,t)}mt&&Ui(V,ae,H.preventScrollOnTouch),yt&&Ui(V,re),lt&&Ui(O,ie),"inner"===R?Qt.on("outerResized",function(){Mn(),Qt.emit("innerLoaded",Ei())}):(k||tt||$||dt||!F)&&Ui(m,{resize:Cn}),dt&&("outer"===R?Qt.on("innerLoaded",Pn):Kt||Pn()),Dn(),Kt?Bn():_t&&Ln(),Qt.on("indexChanged",Wn),"inner"===R&&Qt.emit("innerLoaded",Ei()),"function"==typeof Gt&&Gt(Ei()),Y=!0}function Cn(t){Ai(function(){Mn(pi(t))})}function Mn(t){if(Y){"outer"===R&&Qt.emit("outerResized",Ei(t)),X=rn();var e,n=q,i=!1;k&&(En(),(e=n!==q)&&Qt.emit("newBreakpointStart",Ei(t)));var a,r,o,u,l=rt,s=Kt,c=_t,f=lt,d=vt,v=ht,p=mt,h=yt,m=gt,y=wt,g=Ct,x=It;if(e){var b=tt,w=dt,C=pt,M=at,T=bt;if(!D)var E=nt,A=et}if(lt=sn("arrowKeys"),vt=sn("controls"),ht=sn("nav"),mt=sn("touch"),at=sn("center"),yt=sn("mouseDrag"),gt=sn("autoplay"),wt=sn("autoplayHoverPause"),Ct=sn("autoplayResetOnVisibility"),e&&(Kt=sn("disable"),tt=sn("fixedWidth"),st=sn("speed"),dt=sn("autoHeight"),pt=sn("controlsText"),bt=sn("autoplayText"),xt=sn("autoplayTimeout"),D||(et=sn("edgePadding"),nt=sn("gutter"))),$e(Kt),it=un(),F&&!$||Kt||(jn(),F||(Ci(),i=!0)),(tt||$)&&(St=_n(),Wt=Rt()),(e||tt)&&(rt=sn("items"),ot=sn("slideBy"),(r=rt!==l)&&(tt||$||(Wt=Rt()),_e())),e&&Kt!==s&&(Kt?Bn():function(){if(!Jt)return;if(Mt.disabled=!1,V.className+=Xt,$n(),ft)for(var t=Nt;t--;)I&&Xi(G[t]),Xi(G[Lt-t-1]);if(!I)for(var e=It,n=It+Q;e<n;e++){var i=G[e],a=e<It+rt?P:W;i.style.left=100*(e-It)/rt+"%",zi(i,a)}Nn(),Jt=!1}()),Ut&&(e||tt||$)&&(_t=Tn())!==c&&(_t?(ti(Zn(en(0))),Ln()):(!function(){if(!Zt)return;et&&D&&(j.style.margin="");if(Nt)for(var t="tns-transparent",e=Nt;e--;)I&&Wi(G[e],t),Wi(G[Lt-e-1],t);Nn(),Zt=!1}(),i=!0)),$e(Kt||_t),gt||(wt=Ct=!1),lt!==f&&(lt?Ui(O,ie):_i(O,ie)),vt!==d&&(vt?xe?Xi(xe):(we&&Xi(we),Ce&&Xi(Ce)):xe?Qi(xe):(we&&Qi(we),Ce&&Qi(Ce))),ht!==v&&(ht?(Xi(Ae),Ti()):Qi(Ae)),mt!==p&&(mt?Ui(V,ae,H.preventScrollOnTouch):_i(V,ae)),yt!==h&&(yt?Ui(V,re):_i(V,re)),gt!==m&&(gt?(je&&Xi(je),Pe||We||ci()):(je&&Qi(je),Pe&&fi())),wt!==y&&(wt?Ui(V,ee):_i(V,ee)),Ct!==g&&(Ct?Ui(O,ne):_i(O,ne)),e){if(tt===b&&at===M||(i=!0),dt!==w&&(dt||(j.style.height="")),vt&&pt!==C&&(we.innerHTML=pt[0],Ce.innerHTML=pt[1]),je&&bt!==T){var N=gt?1:0,L=je.innerHTML,B=L.length-T[N].length;L.substring(B)===T[N]&&(je.innerHTML=L.substring(0,B)+bt[N])}}else at&&(tt||$)&&(i=!0);if((r||tt&&!$)&&(Le=Mi(),Ti()),(a=It!==x)?(Qt.emit("indexChanged",Ei()),i=!0):r?a||Wn():(tt||$)&&(Dn(),Vn(),Sn()),r&&!I&&function(){for(var t=It+Math.min(Q,rt),e=Lt;e--;){var n=G[e];It<=e&&e<t?(zi(n,"tns-moving"),n.style.left=100*(e-It)/rt+"%",zi(n,P),Wi(n,W)):n.style.left&&(n.style.left="",zi(n,W),Wi(n,P)),Wi(n,z)}setTimeout(function(){Ii(G,function(t){Wi(t,"tns-moving")})},300)}(),!Kt&&!_t){if(e&&!D&&(et===A&&nt===E||(j.style.cssText=cn(et,nt,tt,st,dt)),F)){I&&(V.style.width=fn(tt,nt,rt));var S=dn(tt,nt,rt)+vn(nt);u=Ri(o=Mt)-1,"deleteRule"in o?o.deleteRule(u):o.removeRule(u),ki(Mt,"#"+Yt+" > .tns-item",S,Ri(Mt))}dt&&Pn(),i&&($n(),Pt=It)}e&&Qt.emit("newBreakpointEnd",Ei(t))}}function Tn(){if(!tt&&!$)return Q<=(at?rt-(rt-1)/2:rt);var t=tt?(tt+nt)*Q:N[Q],e=et?it+2*et:it+nt;return at&&(e-=tt?(it-tt)/2:(it-(N[It+1]-N[It]-nt))/2),t<=e}function En(){for(var t in q=0,k)(t=parseInt(t))<=X&&(q=t)}function An(){!gt&&je&&Qi(je),!ht&&Ae&&Qi(Ae),vt||(xe?Qi(xe):(we&&Qi(we),Ce&&Qi(Ce)))}function Nn(){gt&&je&&Xi(je),ht&&Ae&&Xi(Ae),vt&&(xe?Xi(xe):(we&&Xi(we),Ce&&Xi(Ce)))}function Ln(){if(!Zt){if(et&&(j.style.margin="0px"),Nt)for(var t="tns-transparent",e=Nt;e--;)I&&zi(G[e],t),zi(G[Lt-e-1],t);An(),Zt=!0}}function Bn(){if(!Jt){if(Mt.disabled=!0,V.className=V.className.replace(Xt.substring(1),""),Vi(V,["style"]),ft)for(var t=Nt;t--;)I&&Qi(G[t]),Qi(G[Lt-t-1]);if(F&&I||Vi(j,["style"]),!I)for(var e=It,n=It+Q;e<n;e++){var i=G[e];Vi(i,["style"]),Wi(i,P),Wi(i,W)}An(),Jt=!0}}function Sn(){var t=Hn();B.innerHTML!==t&&(B.innerHTML=t)}function Hn(){var t=On(),e=t[0]+1,n=t[1]+1;return e===n?e+"":e+" to "+n}function On(t){null==t&&(t=Zn());var n,i,a,r=It;if(at||et?($||tt)&&(i=-(parseFloat(t)+et),a=i+it+2*et):$&&(i=N[It],a=i+it),$)N.forEach(function(t,e){e<Lt&&((at||et)&&t<=i+.5&&(r=e),.5<=a-t&&(n=e))});else{if(tt){var e=tt+nt;at||et?(r=Math.floor(i/e),n=Math.ceil(a/e-1)):n=r+Math.ceil(it/e)-1}else if(at||et){var o=rt-1;if(at?(r-=o/2,n=It+o/2):n=It+o,et){var u=et*rt/it;r-=u,n+=u}r=Math.floor(r),n=Math.ceil(n)}else n=r+rt-1;r=Math.max(r,0),n=Math.min(n,Lt-1)}return[r,n]}function Dn(){if(Tt&&!Kt){var t=On();t.push(Et),In.apply(null,t).forEach(function(t){if(!Pi(t,pe)){var e={};e[s]=function(t){t.stopPropagation()},Ui(t,e),Ui(t,he),t.src=Fi(t,"data-src");var n=Fi(t,"data-srcset");n&&(t.srcset=n),zi(t,"loading")}})}}function kn(t){zi(t,"loaded"),Rn(t)}function Rn(t){zi(t,pe),Wi(t,"loading"),_i(t,he)}function In(t,e,n){var i=[];for(n||(n="img");t<=e;)Ii(G[t].querySelectorAll(n),function(t){i.push(t)}),t++;return i}function Pn(){var t=In.apply(null,On());Ai(function(){zn(t,Fn)})}function zn(n,t){return L?t():(n.forEach(function(t,e){!Tt&&t.complete&&Rn(t),Pi(t,pe)&&n.splice(e,1)}),n.length?void Ai(function(){zn(n,t)}):t())}function Wn(){Dn(),Vn(),Sn(),Kn(),function(){if(ht&&(He=0<=Se?Se:an(),Se=-1,He!==Oe)){var t=Ee[Oe],e=Ee[He];ji(t,{tabindex:"-1","aria-label":ke+(Oe+1)}),Wi(t,De),ji(e,{"aria-label":ke+(He+1)+Re}),Vi(e,"tabindex"),zi(e,De),Oe=He}}()}function qn(t,e){for(var n=[],i=t,a=Math.min(t+e,Lt);i<a;i++)n.push(G[i].offsetHeight);return Math.max.apply(null,n)}function Fn(){var t=dt?qn(It,rt):qn(Nt,Q),e=M||j;e.style.height!==t&&(e.style.height=t+"px")}function jn(){N=[0];var n=F?"left":"top",i=F?"right":"bottom",a=G[0].getBoundingClientRect()[n];Ii(G,function(t,e){e&&N.push(t.getBoundingClientRect()[n]-a),e===Lt-1&&N.push(t.getBoundingClientRect()[i]-a)})}function Vn(){var t=On(),n=t[0],i=t[1];Ii(G,function(t,e){n<=e&&e<=i?qi(t,"aria-hidden")&&(Vi(t,["aria-hidden","tabindex"]),zi(t,de)):qi(t,"aria-hidden")||(ji(t,{"aria-hidden":"true",tabindex:"-1"}),Wi(t,de))})}function Gn(t){return t.nodeName.toLowerCase()}function Qn(t){return"button"===Gn(t)}function Xn(t){return"true"===t.getAttribute("aria-disabled")}function Yn(t,e,n){t?e.disabled=n:e.setAttribute("aria-disabled",n.toString())}function Kn(){if(vt&&!ct&&!ft){var t=ye?we.disabled:Xn(we),e=ge?Ce.disabled:Xn(Ce),n=It<=zt,i=!ct&&Wt<=It;n&&!t&&Yn(ye,we,!0),!n&&t&&Yn(ye,we,!1),i&&!e&&Yn(ge,Ce,!0),!i&&e&&Yn(ge,Ce,!1)}}function Jn(t,e){x&&(t.style[x]=e)}function Un(t){return null==t&&(t=It),$?(it-(et?nt:0)-(N[t+1]-N[t]-nt))/2:tt?(it-tt)/2:(rt-1)/2}function _n(){var t=it+(et?nt:0)-(tt?(tt+nt)*Lt:N[Lt]);return at&&!ft&&(t=tt?-(tt+nt)*(Lt-1)-Un():Un(Lt-1)-N[Lt-1]),0<t&&(t=0),t}function Zn(t){var e;if(null==t&&(t=It),F&&!$)if(tt)e=-(tt+nt)*t,at&&(e+=Un());else{var n=r?Lt:rt;at&&(t-=Un()),e=100*-t/n}else e=-N[t],at&&$&&(e+=Un());return Bt&&(e=Math.max(e,St)),e+=!F||$||tt?"px":"%"}function $n(t){Jn(V,"0s"),ti(t)}function ti(t){null==t&&(t=Zn()),V.style[Ot]=Dt+t+kt}function ei(t,e,n,i){var a=t+rt;ft||(a=Math.min(a,Lt));for(var r=t;r<a;r++){var o=G[r];i||(o.style.left=100*(r-It)/rt+"%"),C&&u&&(o.style[u]=o.style[l]=C*(r-t)/1e3+"s"),Wi(o,e),zi(o,n),i&&At.push(o)}}function ni(t,e){Ht&&_e(),(It!==Pt||e)&&(Qt.emit("indexChanged",Ei()),Qt.emit("transitionStart",Ei()),dt&&Pn(),Pe&&t&&0<=["click","keydown"].indexOf(t.type)&&fi(),Vt=!0,Ze())}function ii(t){return t.toLowerCase().replace(/-/g,"")}function ai(t){if(I||Vt){if(Qt.emit("transitionEnd",Ei(t)),!I&&0<At.length)for(var e=0;e<At.length;e++){var n=At[e];n.style.left="",l&&u&&(n.style[l]="",n.style[u]=""),Wi(n,z),zi(n,W)}if(!t||!I&&t.target.parentNode===V||t.target===V&&ii(t.propertyName)===ii(Ot)){if(!Ht){var i=It;_e(),It!==i&&(Qt.emit("indexChanged",Ei()),$n())}"inner"===R&&Qt.emit("innerLoaded",Ei()),Vt=!1,Pt=It}}}function ri(t,e){if(!_t)if("prev"===t)oi(e,-1);else if("next"===t)oi(e,1);else{if(Vt){if(qt)return;ai()}var n=nn(),i=0;if("first"===t?i=-n:"last"===t?i=I?Q-rt-n:Q-1-n:("number"!=typeof t&&(t=parseInt(t)),isNaN(t)||(e||(t=Math.max(0,Math.min(Q-1,t))),i=t-n)),!I&&i&&Math.abs(i)<rt){var a=0<i?1:-1;i+=zt<=It+i-Q?Q*a:2*Q*a*-1}It+=i,I&&ft&&(It<zt&&(It+=Q),Wt<It&&(It-=Q)),nn(It)!==nn(Pt)&&ni(e)}}function oi(t,e){if(Vt){if(qt)return;ai()}var n;if(!e){for(var i=hi(t=pi(t));i!==xe&&[we,Ce].indexOf(i)<0;)i=i.parentNode;var a=[we,Ce].indexOf(i);0<=a&&(n=!0,e=0===a?-1:1)}if(ct){if(It===zt&&-1===e)return void ri("last",t);if(It===Wt&&1===e)return void ri("first",t)}e&&(It+=ot*e,$&&(It=Math.floor(It)),ni(n||t&&"keydown"===t.type?t:null))}function ui(){Ie=setInterval(function(){oi(null,Fe)},xt),Pe=!0}function li(){clearInterval(Ie),Pe=!1}function si(t,e){ji(je,{"data-action":t}),je.innerHTML=Ge[0]+t+Ge[1]+e}function ci(){ui(),je&&si("stop",bt[1])}function fi(){li(),je&&si("start",bt[0])}function di(){Pe?(fi(),We=!0):(ci(),We=!1)}function vi(t){t.focus()}function pi(t){return mi(t=t||m.event)?t.changedTouches[0]:t}function hi(t){return t.target||m.event.srcElement}function mi(t){return 0<=t.type.indexOf("touch")}function yi(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function gi(){return a=Ke.y-Ye.y,r=Ke.x-Ye.x,t=Math.atan2(a,r)*(180/Math.PI),e=Ft,n=!1,i=Math.abs(90-Math.abs(t)),90-e<=i?n="horizontal":i<=e&&(n="vertical"),n===H.axis;var t,e,n,i,a,r}function xi(t){if(Vt){if(qt)return;ai()}gt&&Pe&&li(),Je=!0,Xe&&(Ni(Xe),Xe=null);var e=pi(t);Qt.emit(mi(t)?"touchStart":"dragStart",Ei(t)),!mi(t)&&0<=["img","a"].indexOf(Gn(hi(t)))&&yi(t),Ke.x=Ye.x=e.clientX,Ke.y=Ye.y=e.clientY,I&&(Qe=parseFloat(V.style[Ot].replace(Dt,"")),Jn(V,"0s"))}function bi(t){if(Je){var e=pi(t);Ke.x=e.clientX,Ke.y=e.clientY,I?Xe||(Xe=Ai(function(){!function t(e){if(!jt)return void(Je=!1);Ni(Xe);Je&&(Xe=Ai(function(){t(e)}));"?"===jt&&(jt=gi());if(jt){!me&&mi(e)&&(me=!0);try{e.type&&Qt.emit(mi(e)?"touchMove":"dragMove",Ei(e))}catch(t){}var n=Qe,i=Ue(Ke,Ye);if(!F||tt||$)n+=i,n+="px";else{var a=r?i*rt*100/((it+nt)*Lt):100*i/(it+nt);n+=a,n+="%"}V.style[Ot]=Dt+n+kt}}(t)})):("?"===jt&&(jt=gi()),jt&&(me=!0)),("boolean"!=typeof t.cancelable||t.cancelable)&&me&&t.preventDefault()}}function wi(i){if(Je){Xe&&(Ni(Xe),Xe=null),I&&Jn(V,""),Je=!1;var t=pi(i);Ke.x=t.clientX,Ke.y=t.clientY;var a=Ue(Ke,Ye);if(Math.abs(a)){if(!mi(i)){var n=hi(i);Ui(n,{click:function t(e){yi(e),_i(n,{click:t})}})}I?Xe=Ai(function(){if(F&&!$){var t=-a*rt/(it+nt);t=0<a?Math.floor(t):Math.ceil(t),It+=t}else{var e=-(Qe+a);if(e<=0)It=zt;else if(e>=N[Lt-1])It=Wt;else for(var n=0;n<Lt&&e>=N[n];)e>N[It=n]&&a<0&&(It+=1),n++}ni(i,a),Qt.emit(mi(i)?"touchEnd":"dragEnd",Ei(i))}):jt&&oi(i,0<a?-1:1)}}"auto"===H.preventScrollOnTouch&&(me=!1),Ft&&(jt="?"),gt&&!Pe&&ui()}function Ci(){(M||j).style.height=N[It+rt]-N[It]+"px"}function Mi(){var t=tt?(tt+nt)*Q/it:Q/rt;return Math.min(Math.ceil(t),Q)}function Ti(){if(ht&&!le&&Le!==Be){var t=Be,e=Le,n=Xi;for(Le<Be&&(t=Le,e=Be,n=Qi);t<e;)n(Ee[t]),t++;Be=Le}}function Ei(t){return{container:V,slideItems:G,navContainer:Ae,navItems:Ee,controlsContainer:xe,hasControls:oe,prevButton:we,nextButton:Ce,items:rt,slideBy:ot,cloneCount:Nt,slideCount:Q,slideCountNew:Lt,index:It,indexCached:Pt,displayIndex:tn(),navCurrentIndex:He,navCurrentIndexCached:Oe,pages:Le,pagesCached:Be,sheet:Mt,isOn:Y,event:t||{}}}f&&console.warn("No slides found in",H.container)};return $i}();;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlimSelect=t():e.SlimSelect=t()}(window,function(){return s={},n.m=i=[function(e,t,i){"use strict";function s(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}var n;t.__esModule=!0,t.hasClassInTree=function(e,t){function s(e,t){return t&&e&&e.classList&&e.classList.contains(t)?e:null}return s(e,t)||function e(t,i){return t&&t!==document?s(t,i)?t:e(t.parentNode,i):null}(e,t)},t.ensureElementInView=function(e,t){var i=e.scrollTop+e.offsetTop,s=i+e.clientHeight,n=t.offsetTop,a=n+t.clientHeight;n<i?e.scrollTop-=i-n:s<a&&(e.scrollTop+=a-s)},t.putContent=function(e,t,i){var s=e.offsetHeight,n=e.getBoundingClientRect(),a=i?n.top:n.top-s,o=i?n.bottom:n.bottom+s;return a<=0?"below":o>=window.innerHeight?"above":i?t:"below"},t.debounce=function(n,a,o){var l;return void 0===a&&(a=100),void 0===o&&(o=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=self,s=o&&!l;clearTimeout(l),l=setTimeout(function(){l=null,o||n.apply(i,e)},a),s&&n.apply(i,e)}},t.isValueInArrayOfObjects=function(e,t,i){if(!Array.isArray(e))return e[t]===i;for(var s=0,n=e;s<n.length;s++){var a=n[s];if(a&&a[t]&&a[t]===i)return!0}return!1},t.highlight=function(e,t,i){var s=e,n=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(n))return e;var a=e.match(n).index,o=a+e.match(n)[0].toString().length,l=e.substring(a,o);return s=s.replace(n,'<mark class="'+i+'">'+l+"</mark>")},t.kebabCase=function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(e){return"-"+e.toLowerCase()});return e[0]===e[0].toUpperCase()?t.substring(1):t},"function"!=typeof(n=window).CustomEvent&&(s.prototype=n.Event.prototype,n.CustomEvent=s)},function(e,t,i){"use strict";t.__esModule=!0;var s=(n.prototype.newOption=function(e){return{id:e.id?e.id:String(Math.floor(1e8*Math.random())),value:e.value?e.value:"",text:e.text?e.text:"",innerHTML:e.innerHTML?e.innerHTML:"",selected:!!e.selected&&e.selected,display:void 0===e.display||e.display,disabled:!!e.disabled&&e.disabled,placeholder:!!e.placeholder&&e.placeholder,class:e.class?e.class:void 0,data:e.data?e.data:{},mandatory:!!e.mandatory&&e.mandatory}},n.prototype.add=function(e){this.data.push({id:String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:e.mandatory,data:{}})},n.prototype.parseSelectData=function(){this.data=[];for(var e=0,t=this.main.select.element.childNodes;e<t.length;e++){var i=t[e];if("OPTGROUP"===i.nodeName){for(var s={label:i.label,options:[]},n=0,a=i.childNodes;n<a.length;n++){var o=a[n];if("OPTION"===o.nodeName){var l=this.pullOptionData(o);s.options.push(l),l.placeholder&&""!==l.text.trim()&&(this.main.config.placeholderText=l.text)}}this.data.push(s)}else"OPTION"===i.nodeName&&(l=this.pullOptionData(i),this.data.push(l),l.placeholder&&""!==l.text.trim()&&(this.main.config.placeholderText=l.text))}},n.prototype.pullOptionData=function(e){return{id:!!e.dataset&&e.dataset.id||String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset,mandatory:!!e.dataset&&"true"===e.dataset.mandatory}},n.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var e=[],t=0,i=this.main.select.element.options;t<i.length;t++){var s=i[t];if(s.selected){var n=this.getObjectFromData(s.value,"value");n&&n.id&&e.push(n.id)}}this.setSelected(e,"id")}else{var a=this.main.select.element;if(-1!==a.selectedIndex){var o=a.options[a.selectedIndex].value;this.setSelected(o,"value")}}},n.prototype.setSelected=function(e,t){void 0===t&&(t="id");for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){var r=l[o];r.placeholder||(r.selected=this.shouldBeSelected(r,e,t))}}}else n.selected=this.shouldBeSelected(n,e,t)}},n.prototype.shouldBeSelected=function(e,t,i){if(void 0===i&&(i="id"),Array.isArray(t))for(var s=0,n=t;s<n.length;s++){var a=n[s];if(i in e&&String(e[i])===String(a))return!0}else if(i in e&&String(e[i])===String(t))return!0;return!1},n.prototype.getSelected=function(){for(var e={text:"",placeholder:this.main.config.placeholderText},t=[],i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){var r=l[o];r.selected&&(this.main.config.isMultiple?t.push(r):e=r)}}}else n.selected&&(this.main.config.isMultiple?t.push(n):e=n)}return this.main.config.isMultiple?t:e},n.prototype.addToSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){var i=[],s=this.getSelected();if(Array.isArray(s))for(var n=0,a=s;n<a.length;n++){var o=a[n];i.push(o[t])}i.push(e),this.setSelected(i,t)}},n.prototype.removeFromSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){for(var i=[],s=0,n=this.getSelected();s<n.length;s++){var a=n[s];String(a[t])!==String(e)&&i.push(a[t])}this.setSelected(i,t)}},n.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},n.prototype.getObjectFromData=function(e,t){void 0===t&&(t="id");for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(t in n&&String(n[t])===String(e))return n;if(n.hasOwnProperty("options")&&n.options)for(var a=0,o=n.options;a<o.length;a++){var l=o[a];if(String(l[t])===String(e))return l}}return null},n.prototype.search=function(n){if(""!==(this.searchValue=n).trim()){var a=this.main.config.searchFilter,e=this.data.slice(0);n=n.trim();var t=e.map(function(e){if(e.hasOwnProperty("options")){var t=e,i=[];if(t.options&&(i=t.options.filter(function(e){return a(e,n)})),0!==i.length){var s=Object.assign({},t);return s.options=i,s}}return e.hasOwnProperty("text")&&a(e,n)?e:null});this.filtered=t.filter(function(e){return e})}else this.filtered=null},n);function n(e){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=e.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function r(e){return void 0!==e.text||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(e)),!1)}t.Data=s,t.validateData=function(e){if(!e)return console.error("Data must be an array of objects"),!1;for(var t=0,i=0,s=e;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){r(l[o])||t++}}}else r(n)||t++}return 0===t},t.validateOption=r},function(e,t,i){"use strict";t.__esModule=!0;var s=i(3),n=i(4),a=i(5),o=i(1),l=i(0),r=(c.prototype.validate=function(e){var t="string"==typeof e.select?document.querySelector(e.select):e.select;if(!t)throw new Error("Could not find select element");if("SELECT"!==t.tagName)throw new Error("Element isnt of type select");return t},c.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],t=0,i=n=this.data.getSelected();t<i.length;t++){var s=i[t];e.push(s.value)}return e}var n;return(n=this.data.getSelected())?n.value:""},c.prototype.set=function(e,t,i,s){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===s&&(s=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,t):this.data.setSelected(e,t),this.select.setValue(),this.data.onDataChange(),this.render(),i&&this.close()},c.prototype.setSelected=function(e,t,i,s){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===s&&(s=!0),this.set(e,t,i,s)},c.prototype.setData=function(e){if(o.validateData(e)){var t=JSON.parse(JSON.stringify(e)),i=this.data.getSelected();if(this.config.isAjax&&i)if(this.config.isMultiple)for(var s=0,n=i.reverse();s<n.length;s++){var a=n[s];t.unshift(a)}else t.unshift(this.data.getSelected()),t.unshift({text:"",placeholder:!0});this.select.create(t),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},c.prototype.addData=function(e){o.validateData([e])?(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},c.prototype.open=function(){var e=this;if(this.config.isEnabled&&!this.data.contentOpen){if(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add("above"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody){var t=this.slim.container.getBoundingClientRect();this.slim.content.style.top=t.top+t.height+window.scrollY+"px",this.slim.content.style.left=t.left+window.scrollX+"px",this.slim.content.style.width=t.width+"px"}if(this.slim.content.classList.add(this.config.open),"up"===this.config.showContent.toLowerCase()||"down"!==this.config.showContent.toLowerCase()&&"above"===l.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),!this.config.isMultiple){var i=this.data.getSelected();if(i){var s=i.id,n=this.slim.list.querySelector('[data-id="'+s+'"]');n&&l.ensureElementInView(this.slim.list,n)}}setTimeout(function(){e.data.contentOpen=!0,e.config.searchFocus&&e.slim.search.input.focus(),e.afterOpen&&e.afterOpen()},this.config.timeoutDelay)}},c.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){e.slim.content.removeAttribute("style"),e.data.contentPosition="below",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()},this.config.timeoutDelay))},c.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var t=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+t+"px 0 0 0",this.slim.content.style.height=t-e+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},c.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},c.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},c.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},c.prototype.search=function(t){if(this.data.searchValue!==t)if(this.slim.search.input.value=t,this.config.isAjax){var i=this;this.config.isSearching=!0,this.render(),this.ajax&&this.ajax(t,function(e){i.config.isSearching=!1,Array.isArray(e)?(e.unshift({text:"",placeholder:!0}),i.setData(e),i.data.search(t),i.render()):"string"==typeof e?i.slim.options(e):i.render()})}else this.data.search(t),this.render()},c.prototype.setSearchText=function(e){this.config.searchText=e},c.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},c.prototype.destroy=function(e){void 0===e&&(e=null);var t=e?document.querySelector("."+e+".ss-main"):this.slim.container,i=e?document.querySelector("[data-ssid="+e+"]"):this.select.element;if(t&&i&&(i.style.display="",delete i.dataset.ssid,i.slim=null,t.parentElement&&t.parentElement.removeChild(t),this.config.addToBody)){var s=e?document.querySelector("."+e+".ss-content"):this.slim.content;if(!s)return;document.body.removeChild(s)}},c);function c(e){var t=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null;var i=this.validate(e);i.dataset.ssid&&this.destroy(i.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new s.Config({select:i,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new n.Select({select:i,main:this}),this.data=new o.Data({main:this}),this.slim=new a.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener("click",function(e){e.target&&!l.hasClassInTree(e.target,t.config.id)&&t.close()}),"auto"===this.config.showContent&&window.addEventListener("scroll",l.debounce(function(e){t.data.contentOpen&&("above"===l.putContent(t.slim.content,t.data.contentPosition,t.data.contentOpen)?t.moveContentAbove():t.moveContentBelow())}),!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}t.default=r},function(e,t,i){"use strict";t.__esModule=!0;var s=(n.prototype.searchFilter=function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},n);function n(e){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=e.select.style.cssText,this.class=e.select.className.split(" "),this.isMultiple=e.select.multiple,this.isAjax=e.isAjax,this.showSearch=!1!==e.showSearch,this.searchFocus=!1!==e.searchFocus,this.searchHighlight=!0===e.searchHighlight,this.closeOnSelect=!1!==e.closeOnSelect,e.showContent&&(this.showContent=e.showContent),this.isEnabled=!1!==e.isEnabled,e.searchPlaceholder&&(this.searchPlaceholder=e.searchPlaceholder),e.searchText&&(this.searchText=e.searchText),e.searchingText&&(this.searchingText=e.searchingText),e.placeholderText&&(this.placeholderText=e.placeholderText),this.allowDeselect=!0===e.allowDeselect,this.allowDeselectOption=!0===e.allowDeselectOption,this.hideSelectedOption=!0===e.hideSelectedOption,e.deselectLabel&&(this.deselectLabel=e.deselectLabel),e.valuesUseText&&(this.valuesUseText=e.valuesUseText),e.showOptionTooltips&&(this.showOptionTooltips=e.showOptionTooltips),e.selectByGroup&&(this.selectByGroup=e.selectByGroup),e.limit&&(this.limit=e.limit),e.searchFilter&&(this.searchFilter=e.searchFilter),null!=e.timeoutDelay&&(this.timeoutDelay=e.timeoutDelay),this.addToBody=!0===e.addToBody}t.Config=s},function(e,t,i){"use strict";t.__esModule=!0;var s=i(0),n=(a.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var e=this.main.data.getSelected(),t=0,i=this.element.options;t<i.length;t++){var s=i[t];s.selected=!1;for(var n=0,a=e;n<a.length;n++)a[n].value===s.value&&(s.selected=!0)}else e=this.main.data.getSelected(),this.element.value=e?e.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},a.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id},a.prototype.addEventListeners=function(){var t=this;this.element.addEventListener("change",function(e){t.main.data.setSelectedFromSelect(),t.main.render()})},a.prototype.addMutationObserver=function(){var t=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(e){t.triggerMutationObserver&&(t.main.data.parseSelectData(),t.main.data.setSelectedFromSelect(),t.main.render(),e.forEach(function(e){"class"===e.attributeName&&t.main.slim.updateContainerDivClass(t.main.slim.container)}))}),this.observeMutationObserver())},a.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},a.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},a.prototype.create=function(e){this.element.innerHTML="";for(var t=0,i=e;t<i.length;t++){var s=i[t];if(s.hasOwnProperty("options")){var n=s,a=document.createElement("optgroup");if(a.label=n.label,n.options)for(var o=0,l=n.options;o<l.length;o++){var r=l[o];a.appendChild(this.createOption(r))}this.element.appendChild(a)}else this.element.appendChild(this.createOption(s))}},a.prototype.createOption=function(t){var i=document.createElement("option");return i.value=""!==t.value?t.value:t.text,i.innerHTML=t.innerHTML||t.text,t.selected&&(i.selected=t.selected),!1===t.display&&(i.style.display="none"),t.disabled&&(i.disabled=!0),t.placeholder&&i.setAttribute("data-placeholder","true"),t.mandatory&&i.setAttribute("data-mandatory","true"),t.class&&t.class.split(" ").forEach(function(e){i.classList.add(e)}),t.data&&"object"==typeof t.data&&Object.keys(t.data).forEach(function(e){i.setAttribute("data-"+s.kebabCase(e),t.data[e])}),i},a);function a(e){this.triggerMutationObserver=!0,this.element=e.select,this.main=e.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=e.main}t.Select=n},function(e,t,i){"use strict";t.__esModule=!0;var a=i(0),o=i(1),s=(n.prototype.containerDiv=function(){var e=document.createElement("div");return e.style.cssText=this.main.config.style,this.updateContainerDivClass(e),e},n.prototype.updateContainerDivClass=function(e){this.main.config.class=this.main.select.element.className.split(" "),e.className="",e.classList.add(this.main.config.id),e.classList.add(this.main.config.main);for(var t=0,i=this.main.config.class;t<i.length;t++){var s=i[t];""!==s.trim()&&e.classList.add(s)}},n.prototype.singleSelectedDiv=function(){var t=this,e=document.createElement("div");e.classList.add(this.main.config.singleSelected);var i=document.createElement("span");i.classList.add("placeholder"),e.appendChild(i);var s=document.createElement("span");s.innerHTML=this.main.config.deselectLabel,s.classList.add("ss-deselect"),s.onclick=function(e){e.stopPropagation(),t.main.config.isEnabled&&t.main.set("")},e.appendChild(s);var n=document.createElement("span");n.classList.add(this.main.config.arrow);var a=document.createElement("span");return a.classList.add("arrow-down"),n.appendChild(a),e.appendChild(n),e.onclick=function(){t.main.config.isEnabled&&(t.main.data.contentOpen?t.main.close():t.main.open())},{container:e,placeholder:i,deselect:s,arrowIcon:{container:n,arrow:a}}},n.prototype.placeholder=function(){var e=this.main.data.getSelected();if(null===e||e&&e.placeholder){var t=document.createElement("span");t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t.outerHTML)}else{var i="";e&&(i=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=e?i:"")}},n.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect)return void this.singleSelected.deselect.classList.add("ss-hide");""===this.main.selected()?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide")}},n.prototype.multiSelectedDiv=function(){var t=this,e=document.createElement("div");e.classList.add(this.main.config.multiSelected);var i=document.createElement("div");i.classList.add(this.main.config.values),e.appendChild(i);var s=document.createElement("div");s.classList.add(this.main.config.add);var n=document.createElement("span");return n.classList.add(this.main.config.plus),n.onclick=function(e){t.main.data.contentOpen&&(t.main.close(),e.stopPropagation())},s.appendChild(n),e.appendChild(s),e.onclick=function(e){t.main.config.isEnabled&&(e.target.classList.contains(t.main.config.valueDelete)||(t.main.data.contentOpen?t.main.close():t.main.open()))},{container:e,values:i,add:s,plus:n}},n.prototype.values=function(){if(this.multiSelected){for(var e,t=this.multiSelected.values.childNodes,i=this.main.data.getSelected(),s=[],n=0,a=t;n<a.length;n++){var o=a[n];e=!0;for(var l=0,r=i;l<r.length;l++){var c=r[l];String(c.id)===String(o.dataset.id)&&(e=!1)}e&&s.push(o)}for(var d=0,h=s;d<h.length;d++){var u=h[d];u.classList.add("ss-out"),this.multiSelected.values.removeChild(u)}for(t=this.multiSelected.values.childNodes,c=0;c<i.length;c++){e=!1;for(var p=0,m=t;p<m.length;p++)o=m[p],String(i[c].id)===String(o.dataset.id)&&(e=!0);e||(0!==t.length&&HTMLElement.prototype.insertAdjacentElement?0===c?this.multiSelected.values.insertBefore(this.valueDiv(i[c]),t[c]):t[c-1].insertAdjacentElement("afterend",this.valueDiv(i[c])):this.multiSelected.values.appendChild(this.valueDiv(i[c])))}if(0===i.length){var f=document.createElement("span");f.classList.add(this.main.config.disabled),f.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=f.outerHTML}}},n.prototype.valueDiv=function(a){var o=this,e=document.createElement("div");e.classList.add(this.main.config.value),e.dataset.id=a.id;var t=document.createElement("span");if(t.classList.add(this.main.config.valueText),t.innerHTML=a.innerHTML&&!0!==this.main.config.valuesUseText?a.innerHTML:a.text,e.appendChild(t),!a.mandatory){var i=document.createElement("span");i.classList.add(this.main.config.valueDelete),i.innerHTML=this.main.config.deselectLabel,i.onclick=function(e){e.preventDefault(),e.stopPropagation();var t=!1;if(o.main.beforeOnChange||(t=!0),o.main.beforeOnChange){for(var i=o.main.data.getSelected(),s=JSON.parse(JSON.stringify(i)),n=0;n<s.length;n++)s[n].id===a.id&&s.splice(n,1);!1!==o.main.beforeOnChange(s)&&(t=!0)}t&&(o.main.data.removeFromSelected(a.id,"id"),o.main.render(),o.main.select.setValue(),o.main.data.onDataChange())},e.appendChild(i)}return e},n.prototype.contentDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.content),e},n.prototype.searchDiv=function(){var n=this,e=document.createElement("div"),s=document.createElement("input"),a=document.createElement("div");e.classList.add(this.main.config.search);var t={container:e,input:s};return this.main.config.showSearch||(e.classList.add(this.main.config.hide),s.readOnly=!0),s.type="search",s.placeholder=this.main.config.searchPlaceholder,s.tabIndex=0,s.setAttribute("aria-label",this.main.config.searchPlaceholder),s.setAttribute("autocapitalize","off"),s.setAttribute("autocomplete","off"),s.setAttribute("autocorrect","off"),s.onclick=function(e){setTimeout(function(){""===e.target.value&&n.main.search("")},10)},s.onkeydown=function(e){"ArrowUp"===e.key?(n.main.open(),n.highlightUp(),e.preventDefault()):"ArrowDown"===e.key?(n.main.open(),n.highlightDown(),e.preventDefault()):"Tab"===e.key?n.main.data.contentOpen?n.main.close():setTimeout(function(){n.main.close()},n.main.config.timeoutDelay):"Enter"===e.key&&e.preventDefault()},s.onkeyup=function(e){var t=e.target;if("Enter"===e.key){if(n.main.addable&&e.ctrlKey)return a.click(),e.preventDefault(),void e.stopPropagation();var i=n.list.querySelector("."+n.main.config.highlighted);i&&i.click()}else"ArrowUp"===e.key||"ArrowDown"===e.key||("Escape"===e.key?n.main.close():n.main.config.showSearch&&n.main.data.contentOpen?n.main.search(t.value):s.value="");e.preventDefault(),e.stopPropagation()},s.onfocus=function(){n.main.open()},e.appendChild(s),this.main.addable&&(a.classList.add(this.main.config.addable),a.innerHTML="+",a.onclick=function(e){if(n.main.addable){e.preventDefault(),e.stopPropagation();var t=n.search.input.value;if(""===t.trim())return void n.search.input.focus();var i=n.main.addable(t),s="";if(!i)return;"object"==typeof i?o.validateOption(i)&&(n.main.addData(i),s=i.value?i.value:i.text):(n.main.addData(n.main.data.newOption({text:i,value:i})),s=i),n.main.search(""),setTimeout(function(){n.main.set(s,"value",!1,!1)},100),n.main.config.closeOnSelect&&setTimeout(function(){n.main.close()},100)}},e.appendChild(a),t.addable=a),t},n.prototype.highlightUp=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.previousSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.previousSibling;else{var i=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");t=i[i.length-1]}if(t&&t.classList.contains(this.main.config.optgroupLabel)&&(t=null),null===t){var s=e.parentNode;if(s.classList.contains(this.main.config.optgroup)&&s.previousSibling){var n=s.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");n.length&&(t=n[n.length-1])}}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),a.ensureElementInView(this.list,t))},n.prototype.highlightDown=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.nextSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.nextSibling;else t=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");if(null===t&&null!==e){var i=e.parentNode;i.classList.contains(this.main.config.optgroup)&&i.nextSibling&&(t=i.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")"))}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),a.ensureElementInView(this.list,t))},n.prototype.listDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.list),e},n.prototype.options=function(e){void 0===e&&(e="");var t,i=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==e)return(t=document.createElement("div")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=e,void this.list.appendChild(t);if(this.main.config.isAjax&&this.main.config.isSearching)return(t=document.createElement("div")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.searchingText,void this.list.appendChild(t);if(0===i.length){var s=document.createElement("div");return s.classList.add(this.main.config.option),s.classList.add(this.main.config.disabled),s.innerHTML=this.main.config.searchText,void this.list.appendChild(s)}for(var n=function(e){if(e.hasOwnProperty("label")){var t=e,n=document.createElement("div");n.classList.add(c.main.config.optgroup);var i=document.createElement("div");i.classList.add(c.main.config.optgroupLabel),c.main.config.selectByGroup&&c.main.config.isMultiple&&i.classList.add(c.main.config.optgroupLabelSelectable),i.innerHTML=t.label,n.appendChild(i);var s=t.options;if(s){for(var a=0,o=s;a<o.length;a++){var l=o[a];n.appendChild(c.option(l))}if(c.main.config.selectByGroup&&c.main.config.isMultiple){var r=c;i.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();for(var t=0,i=n.children;t<i.length;t++){var s=i[t];-1!==s.className.indexOf(r.main.config.option)&&s.click()}})}}c.list.appendChild(n)}else c.list.appendChild(c.option(e))},c=this,a=0,o=i;a<o.length;a++)n(o[a])},n.prototype.option=function(r){if(r.placeholder){var e=document.createElement("div");return e.classList.add(this.main.config.option),e.classList.add(this.main.config.hide),e}var t=document.createElement("div");t.classList.add(this.main.config.option),r.class&&r.class.split(" ").forEach(function(e){t.classList.add(e)}),r.style&&(t.style.cssText=r.style);var c=this.main.data.getSelected();t.dataset.id=r.id,this.main.config.searchHighlight&&this.main.slim&&r.innerHTML&&""!==this.main.slim.search.input.value.trim()?t.innerHTML=a.highlight(r.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):r.innerHTML&&(t.innerHTML=r.innerHTML),this.main.config.showOptionTooltips&&t.textContent&&t.setAttribute("title",t.textContent);var d=this;t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=this.dataset.id;if(!0===r.selected&&d.main.config.allowDeselectOption){var i=!1;if(d.main.beforeOnChange&&d.main.config.isMultiple||(i=!0),d.main.beforeOnChange&&d.main.config.isMultiple){for(var s=d.main.data.getSelected(),n=JSON.parse(JSON.stringify(s)),a=0;a<n.length;a++)n[a].id===t&&n.splice(a,1);!1!==d.main.beforeOnChange(n)&&(i=!0)}i&&(d.main.config.isMultiple?(d.main.data.removeFromSelected(t,"id"),d.main.render(),d.main.select.setValue(),d.main.data.onDataChange()):d.main.set(""))}else{if(r.disabled||r.selected)return;if(d.main.config.limit&&Array.isArray(c)&&d.main.config.limit<=c.length)return;if(d.main.beforeOnChange){var o=void 0,l=JSON.parse(JSON.stringify(d.main.data.getObjectFromData(t)));l.selected=!0,d.main.config.isMultiple?(o=JSON.parse(JSON.stringify(c))).push(l):o=JSON.parse(JSON.stringify(l)),!1!==d.main.beforeOnChange(o)&&d.main.set(t,"id",d.main.config.closeOnSelect)}else d.main.set(t,"id",d.main.config.closeOnSelect)}});var i=c&&a.isValueInArrayOfObjects(c,"id",r.id);return(r.disabled||i)&&(t.onclick=null,d.main.config.allowDeselectOption||t.classList.add(this.main.config.disabled),d.main.config.hideSelectedOption&&t.classList.add(this.main.config.hide)),i?t.classList.add(this.main.config.optionSelected):t.classList.remove(this.main.config.optionSelected),t},n);function n(e){this.main=e.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}t.Slim=s}],n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2).default;function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,s});;function playPause(){var myVideo=document.getElementById("bookmundi-video");var MyVideoBtn=document.getElementById("video-button");if(myVideo.paused){myVideo.play();MyVideoBtn.innerHTML='<span class="icon-pause play-pause"></span><span class="sr-only">Video Playing. Click to Pause</span>'}else{myVideo.pause();MyVideoBtn.innerHTML='<span class="icon-play play-pause"></span><span class="sr-only">Video Paused. Click to Play</span>'}}var sliders=new Object;function initSlider(){var doc=document,resizeTimer;var mobile="false",speed=400,win=window,ww=win.innerWidth||doc.documentElement.clientWidth||doc.body.clientWidth,fw=getFW(ww),initFns={},edgepadding=50,gutter=10;function getFW(width){var sm=400,md=900,lg=1400;return width<sm?150:width>=sm&&width<md?200:width>=md&&width<lg?300:400}window.addEventListener("resize",function(){fw=getFW(ww)});var options={brandSlider:{container:"",items:4,rewind:true,nav:false,controls:false,autoplay:true,autoplayTimeout:5e3,autoplayHoverPause:true,autoplayButtonOutput:false,responsive:{1200:{items:5}}},tripsSlider:{container:"",items:2,rewind:true,nav:false,controls:false,autoplay:false,responsive:{980:{items:3},1200:{items:4}}},expertSlider:{container:"",items:6,rewind:true,nav:false,controls:false,autoplay:false}};for(var i in options){var item=options[i];item.container="#"+i;item.swipeAngle=false;if(!item.speed){item.speed=speed}if(doc.querySelector(item.container)){sliders[i]=tns(options[i])}}}initSlider();document.addEventListener("click",function(event){var a=document.getElementById("how-it-works"),b=document.getElementById("how-link");if(!!a&&!!b){isClickInside=a.contains(event.target);if(!isClickInside){if(b!==document.activeElement){a.classList.remove("open")}if(event.target.id=="how-link"){a.classList.add("open")}}}});function hideOnClickOutsideListen(list,elm){try{var a=document.getElementById(list),b=document.getElementById(elm);if(!!a&&!!b){document.addEventListener("click",function(event){var isClickInside=a.contains(event.target);if(!isClickInside){if(b===document.activeElement){a.style.display="block"}else{a.style.display="none"}}})}}catch(e){}}hideOnClickOutsideListen("suggestion-div","where-going");hideOnClickOutsideListen("search-month-lists","when-going");hideOnClickOutsideListen("top-customize-div","where-customizing");hideOnClickOutsideListen("bottom-customize-div","customize-trip-expert");document.getElementById("brand-slider-prev").addEventListener("click",function(e){window.scrollBy(1,0);sliders.brandSlider.goTo("prev")});document.getElementById("brand-slider-next").addEventListener("click",function(e){window.scrollBy(1,0);sliders.brandSlider.goTo("next")});var featuredTripsBlock=document.getElementById("featured-trips");if(!!featuredTripsBlock){document.getElementById("trips-slider-prev").addEventListener("click",function(e){window.scrollBy(1,0);sliders.tripsSlider.goTo("prev")});document.getElementById("trips-slider-next").addEventListener("click",function(e){window.scrollBy(1,0);sliders.tripsSlider.goTo("next")})}document.getElementById("expert-slider-prev").addEventListener("click",function(e){window.scrollBy(1,0);sliders.expertSlider.goTo("prev")});document.getElementById("expert-slider-next").addEventListener("click",function(e){window.scrollBy(1,0);sliders.expertSlider.goTo("next")});$bm("#how-link").addListener("click",function(){document.getElementById("how-it-works").removeAttribute("style");window.scrollTo(0,0);$bm("#how-it-works").addClass("open");var howHeight=document.getElementById("how-it-works").offsetHeight;window.addEventListener("scroll",handleHowScroll);function handleHowScroll(){if(window.pageYOffset>=howHeight){document.getElementById("how-it-works").style.transition="none";$bm("#how-it-works").removeClass("open")}}});$bm("#how-close").addListener("click",function(){$bm("#how-it-works").removeClass("open")});var homeBanner=document.getElementById("default-home"),tpBanner=document.getElementById("customize-home");pbody=document.getElementsByTagName("BODY")[0],aToursBtn=document.getElementById("atours-trigger"),cToursBtn=document.getElementById("ctours-trigger");tpIntro=document.getElementById("tp-show-hide");homeIntro=document.getElementById("default-show-hide");aToursBtn.addEventListener("click",function(){tpIntro.style.display="none";homeIntro.style.display="block";document.getElementById("how-link").style.display="block";tpBanner.style.display="none";homeIntro.classList.add("animate__fadeInUp");homeIntro.style.opacity="1";homeBanner.style.display="block";homeBanner.classList.add("animate__fadeInDown");aToursBtn.parentNode.classList.add("active");cToursBtn.parentNode.classList.remove("active")});cToursBtn.addEventListener("click",function(){tpIntro.style.display="block";homeIntro.style.display="none";homeIntro.classList.add("o");tpIntro.classList.add("animate__fadeInUp");tpIntro.style.opacity="1";document.getElementById("how-link").style.display="none";homeBanner.style.display="none";tpBanner.style.display="block";tpBanner.classList.add("animate__fadeInDown");cToursBtn.parentNode.classList.add("active");aToursBtn.parentNode.classList.remove("active")});function BLoader(){try{var loader=document.getElementsByClassName("bloader")[0];return{show:function(){loader.style.display="block"},hide:function(){loader.style.display="none"}}}catch(e){}}var bloader=new BLoader;$bm(".how-it-works").addListener("click",function(e){e.preventDefault();var d=imgLazyLoading();d.forceLazyLoad()});$bm("#trips-slider-next").addListener("click",function(e){e.preventDefault();var d=imgLazyLoading();d.forceLazyLoad()});$bm("#trips-slider-prev").addListener("click",function(e){e.preventDefault();var d=imgLazyLoading();d.forceLazyLoad()});function DestinationDropdown(){this.btn=$bm("[data-destination-dropdown]");this.durl=global.baseUrl+"/dom/desktopnavdestinations";this.isdestInjected=false;this.loadingDom='<div class="dd-holder"><span class="dd-loading" style="display: block;min-height: 100px;"><span class="spinner-circle"></span></span></div>';this.isPulling={dest:false,act:false}}DestinationDropdown.prototype.listen=function(){var self=this;this.btn.addListener("click",function(e){e.preventDefault();try{!self.isdestInjected&&!self.isPulling.dest&&self.pullDom("dest",1)}catch(e){console.log(e)}})};DestinationDropdown.prototype.pullDom=function(type,_showNow){var self=this;if(type=="dest"){self.isPulling.dest=true;_showNow&&self.toggleDropdown(type);$bm("document").injectDOM("#dest-dropdown-lists",this.loadingDom,"replace");$bm("document").getInjectDOM(this.durl,"#dest-dropdown-lists","replace",function(){self.isdestInjected=true;bloader.hide();self.listenSideBarNav(type)})}};DestinationDropdown.prototype.toggleDropdown=function(type){type=="dest"&&$bm(".destination-dd").toggleClass("active")};DestinationDropdown.prototype.close=function(type){type=="dest"&&$bm(".destination-dd").removeClass("active")};DestinationDropdown.prototype.listenSideBarNav=function(type){if(type=="dest"){$bm("[data-dest-sidebar-lists]").addListener("click",function(e){e.preventDefault();var region=e.target.parentElement.dataset.destSidebarLists;var selectedData='[data-dest-sidbar-view="'+region+'"]';$bm("[data-dest-sidbar-view]").removeClass("active");$bm(selectedData).addClass("active");var sideBar='[data-dest-sidebar-lists="'+region+'"]';$bm("[data-dest-sidebar-lists]").removeClass("active");$bm(sideBar).addClass("active")})}};var ddestinationDrop=new DestinationDropdown;ddestinationDrop.listen();function TopDestinations(){this.isInjectingLists=false}TopDestinations.prototype.listenDropDownChange=function(){listenContinentChange();this.listenViewPort()};function listenContinentChange(){var self=topDestinations;$bm("#top-destination-selector").addListener("change",function(event){event.preventDefault();var selectedValue=event.target.options[event.target.options.selectedIndex].value;self.toggleView(selectedValue)})}function listeningTopDestinationScrollEvent(){var self=this;$bm("#top-destination-view").isInViewport(function(is){if(is&&!self.isInjectingLists){$bm("document").addListener("scroll",listeningTopDestinationScrollEvent);var url=baseUrl+"/dom/hometopdestination?m=0";$bm("document").get(url,function(dom){$bm("document").injectDOM("#top-destination-container",dom,"append");listenContinentChange()});self.isInjectingLists=true}})}TopDestinations.prototype.listenViewPort=function(){if(!this.isInjectingLists)$bm("document").addListener("scroll",listeningTopDestinationScrollEvent)};TopDestinations.prototype.toggleView=function(value){var v=value.toLowerCase().replace(" ","");$bm("[data-continent]").removeClass("active");$bm("[data-continent]").removeClass("animate__zoomIn");$bm("[data-continent = "+v+"]").addClass("active");$bm("[data-continent = "+v+"]").addClass("animate__zoomIn");triggerImageLazyLoading()};var topDestinations=new TopDestinations;topDestinations.listenDropDownChange();$bm("#trips-slider-next").addListener("click",function(e){e.preventDefault();triggerImageLazyLoading()});$bm("#trips-slider-prev").addListener("click",function(e){e.preventDefault();triggerImageLazyLoading()});function LocalTravelExpert(){this.defaultCountries=["Nepal","Spain","Chile","France","Japan","China"];this.allCountries=[];this.selectedCountries=this.defaultCountries;this.activeIndex=-1;this.searchText=""}LocalTravelExpert.prototype.init=function(){var self=this;$bm("document").addListener("mousemove",pullAllExpertCountries);$bm("#expert-submit-btn").addListener("click",function(e){e.preventDefault();self.goToTravelExpert()});$bm("#customize-trip-expert").addListener("click",function(e){e.preventDefault();var value=e.target.value;if(value==""){self.injectLists(self.defaultCountries);self.selectedCountries=self.defaultCountries}else{self.activeIndex=-1;self.search(value)}document.addEventListener("keydown",exportKeyListener)});$bm("#customize-trip-expert").addListener("focusout",function(e){e.preventDefault();self.activeIndex=-1;document.removeEventListener("keydown",exportKeyListener)});$bm("#customize-trip-expert").addListener("keyup",function(e){e.preventDefault();var value=e.target.value;self.searchText!=value&&self.search(value);self.searchText!=value&&$bm("#err-customize2").hideDOM();self.searchText!=""&&self.searchText!=value&&$bm("#bottom-customize-div").showDOM();self.searchText=value;self.selectedLink=""})};LocalTravelExpert.prototype.injectLists=function(lists){this.activeIndex=-1;var doms=lists.map(function(d,index){var href=baseUrl+"/trip-planner?country="+d;return'<li data-expert-index="'+index+'"><a  href="javascript:void(0)" data-expert-href="'+href+'">'+d+"</a></li>"}).join("");$bm("document").injectDOM("#customize-trip-expert-ul",doms,"replace");this.listenExpertClick()};LocalTravelExpert.prototype.listenExpertClick=function(){var lists=document.querySelectorAll("[data-expert-href]");for(var i=lists.length-1;i>=0;i--){lists[i].addEventListener("click",function(e){e.preventDefault();document.querySelector("#customize-trip-expert").value=e.target.text;$bm("#bottom-customize-div").hideDOM()})}};function exportKeyListener(event){var index=localTravelExpert.activeIndex;var totalLen=localTravelExpert.selectedCountries.length-1;if(event.keyCode==40){index=index>=totalLen?index:index+1}if(event.keyCode==38){index=index>0?index<=totalLen?index-1:index:index}if(event.keyCode==13){if(index>-1){var temp=$bm('[data-expert-index="'+index+'"]').elems;for(var i=temp.length-1;i>=0;i--){var li=temp[i].firstChild;document.querySelector("#customize-trip-expert").value=li.text;$bm("#bottom-customize-div").hideDOM();break}this.listenExpertClick()}else localTravelExpert.goToTravelExpert()}localTravelExpert.activeIndex=index;if(event.keyCode==40||event.keyCode==38){$bm("[data-expert-index]").removeClass("expertlistactive");$bm('[data-expert-index="'+index+'"]').addClass("expertlistactive")}}function pullAllExpertCountries(){$bm("document").removeListener("mousemove",pullAllExpertCountries);var url=baseUrl+"/ws/allcl";$bm("document").postAjax(url,{},function(res){localTravelExpert.allCountries=Object.keys(JSON.parse(res).results)},"application/json;charset=UTF-8")}LocalTravelExpert.prototype.search=function(value){this.selectedCountries=value==""?this.defaultCountries:this.allCountries.filter(function(c){return c.toLowerCase().indexOf(value.toLowerCase())>-1});this.injectLists(this.selectedCountries)};LocalTravelExpert.prototype.goToTravelExpert=function(){var tempStr=localTravelExpert.searchText.replace(/\s/g,"");var inputValue=document.querySelector("#customize-trip-expert").value;tempStr=tempStr===""?inputValue:tempStr;if(tempStr.length>0){var isStringCountry=this.allCountries.map(function(a){return a.toLowerCase()}).indexOf(tempStr.toLowerCase())>-1;if(isStringCountry){window.location=baseUrl+"/trip-planner?country="+tempStr}else{$bm("#err-customize2").showDOM();setTimeout(function(){$bm("#err-customize2").hideDOM()},2e3)}}else{$bm(".main-search").addClass("animate__shakeX")}setTimeout(function(){$bm(".main-search").removeClass("animate__shakeX")},1e3)};var localTravelExpert=new LocalTravelExpert;localTravelExpert.init();function SearchTopInput(){this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];var d=new Date;this.currentMonth=d.getMonth();this.currentYear=d.getFullYear();this.isMonthViewInjected=false;this.defaultCountries=["Europe","Spain","Chile","France","Japan","China"];this.activeIndex=-1;this.selected={stext:"",date:"",link:"",viewd:""};this.customizeActiveIndex=-1;this.customizeSelectedCountries=this.defaultCountries;this.customizeSearchText="";this.datePickerIsOpenedOnce=false}SearchTopInput.prototype.init=function(){var self=this;$bm("#when-going").addListener("click",injectMonthLists);$bm("#when-going").addListener("keyup",function(e){e.preventDefault();e.target.value=self.selected.viewd});$bm("#where-going").addListener("click",function(e){e.preventDefault();var value=e.target.value;self.toggleLocationSearchView(true);self.toggleDatePickerView(false);if(value==""){self.injectCountryLists(self.defaultCountries)}else if(self.selected.stext!=value){self.activeIndex=-1;value.trim().length>=3&&self.makeSearch(value)}document.addEventListener("keydown",searchKeyListener)});$bm("#where-going").addListener("keyup",function(e){e.preventDefault();if(e.keyCode==13)return;var value=e.target.value;self.selected.link="";if(value==""&&self.selected.stext!=value){self.activeIndex=-1;self.injectCountryLists(self.defaultCountries)}else if(self.selected.stext!=value){self.activeIndex=-1;value.trim().length>=3&&self.makeSearch(value)}self.selected.stext=value;self.toggleDatePickerView(false);self.toggleLocationSearchView(true);self.datePickerIsOpenedOnce=false});$bm("#where-going").addListener("focusout",function(e){e.preventDefault();self.activeIndex=-1;document.removeEventListener("keydown",searchKeyListener)});$bm("#search-top-btn").addListener("click",function(e){e.preventDefault();self.goTo()});$bm("#ctours-trigger").addListener("click",function(e){e.preventDefault();self.toggleLocationSearchView(false);self.toggleDatePickerView(false);document.querySelectorAll("#when-going").value="";document.querySelectorAll("#where-going").value=""});$bm("#atours-trigger").addListener("click",function(e){e.preventDefault();document.querySelectorAll("#when-going").value="";document.querySelectorAll("#where-going").value=""});$bm("#where-customizing").addListener("click",function(e){e.preventDefault();var value=e.target.value;if(value==""){self.injectTopCustomizeCLists(localTravelExpert.defaultCountries);self.selectedCountries=localTravelExpert.defaultCountries}else{self.customizeActiveIndex=-1;self.search(value)}document.addEventListener("keydown",topExperrtKeyListener)});$bm("#where-customizing").addListener("focusout",function(e){e.preventDefault();self.customizeActiveIndex=-1;document.removeEventListener("keydown",topExperrtKeyListener)});$bm("#where-customizing").addListener("keyup",function(e){e.preventDefault();var value=e.target.value;self.customizeSearchText!=value&&self.search(value);self.customizeSearchText!=value&&$bm("#err-customize1").hideDOM();self.customizeSearchText!=""&&self.customizeSearchText!=value&&$bm("#top-customize-div").showDOM();self.customizeSearchText=value});$bm("#top-expert-submit-btn").addListener("click",function(e){e.preventDefault();self.goToTravelExpert()});document.querySelectorAll("#when-going").value="";document.querySelectorAll("#where-going").value=""};SearchTopInput.prototype.injectCountryLists=function(lists){this.activeIndex=-1;var doms='<ul id="suggestions-list">'+lists.map(function(d,index){var href="javascript:void(0)";var dataHref=baseUrl+"?q="+d.toLowerCase();return'<li data-search-key="'+index+'"><a data-href ="'+dataHref+'" href="'+href+'">'+d+"</a></li>"}).join("")+"</ul>";$bm("document").injectDOM("#suggestion-div",doms,"replace");this.listenClick()};SearchTopInput.prototype.makeSearch=function(query){var self=this;var url=baseUrl+"/dom/getsuggestiondommbl?query="+query+"&type=home";$bm("document").cancellerableget(url,function(res){self.selected.stext.trim().length>=3&&$bm("document").injectDOM("#suggestion-div",res,true);self.listenClick()})};SearchTopInput.prototype.selectValue=function(e){try{var target=!!e.firstChild?e.firstChild:!!e.target?e.target:e;var v=target.innerText;this.selected.stext=v;this.selected.link=target.dataset.href;document.querySelector("#where-going").value=v.trim()}catch(err){var target=e;var v=target.innerText;this.selected.stext=v;this.selected.link=target.dataset.href;document.querySelector("#where-going").value=v.trim()}var self=this;setTimeout(function(){self.toggleDatePickerView(true);self.toggleLocationSearchView(false)},100)};SearchTopInput.prototype.listenClick=function(){var self=this;const lists=document.querySelectorAll("[data-search-key]")||[];try{for(var i=0;i<lists.length;i++){lists[i].addEventListener("click",function(e){self.selectValue(e)})}}catch(e){}};SearchTopInput.prototype.toggleDatePickerView=function(show){var ulTemp=document.querySelector("#months-when-ul");var ulPTEmp=document.querySelector("#search-month-lists");if(show){if(ulTemp)ulTemp.style.display="flex";else{document.querySelector("#when-going").click()}if(ulPTEmp)ulPTEmp.style.display="block"}else{if(ulTemp)ulTemp.style.display="none"}setTimeout(function(){searchTopInput.datePickerIsOpenedOnce=show?true:searchTopInput.datePickerIsOpenedOnce},0)};SearchTopInput.prototype.toggleLocationSearchView=function(show){show?$bm("#suggestion-div").showDOM():$bm("#suggestion-div").hideDOM()};SearchTopInput.prototype.goTo=function(){var url=this.selected.link;url=url?url:this.selected.stext!=""?baseUrl+"?q="+this.selected.stext:null;if(!!url){url=this.selected.date!=""?url.indexOf("?")>-1?url+"&":url+"?":url;url=this.selected.date!=""?url+"departure_month="+this.selected.date:url;window.location=url;$bm("#search-top-btn").addClass("loading")}else{$bm(".main-search").addClass("animate__shakeX")}setTimeout(function(){$bm(".main-search").removeClass("animate__shakeX")},1e3)};SearchTopInput.prototype.listenDatePicker=function(){var self=this;var temp=document.querySelector("#months-when-ul").children;for(var i=0;i<temp.length;i++){temp[i].addEventListener("click",function(e){e.preventDefault();var dataset=e.target.dataset;var mth=dataset.mth<10?"0"+dataset.mth:dataset.mth;self.selected.date=dataset.year+"-"+mth+"-01";document.querySelector("#when-going").value=e.target.textContent;self.selected.viewd=e.target.textContent;self.toggleDatePickerView(false)})}};function searchKeyListener(event){var index=searchTopInput.activeIndex;var totalLen=100;if(event.keyCode==40){index=index+1}if(event.keyCode==38){index=index-1}if(event.keyCode==13){var temp=$bm('[data-search-key="'+searchTopInput.activeIndex+'"]').elems;if(temp.length>0){searchTopInput.selectValue(temp[0])}searchTopInput.selected.stext!=""&&searchTopInput.datePickerIsOpenedOnce&&searchTopInput.goTo();searchTopInput.selected.stext!=""&&searchTopInput.activeIndex==-1&&searchTopInput.goTo();try{var temp=document.querySelector("#suggestion-div").children[0].textContent;if(searchTopInput.selected.stext!=""&&temp=="No Results"){searchTopInput.goTo()}}catch(e){}}searchTopInput.activeIndex=$bm('[data-search-key="'+index+'"]').elems.length>0?index:searchTopInput.activeIndex;if(event.keyCode==40||event.keyCode==38){$bm("[data-search-key]").removeClass("expertlistactive");$bm('[data-search-key="'+searchTopInput.activeIndex+'"]').addClass("expertlistactive")}}function injectMonthLists(e){e.preventDefault();searchTopInput.toggleDatePickerView(true);searchTopInput.toggleLocationSearchView(false);var self=searchTopInput;if(!self.isMonthViewInjected){var showCurrentMonthLists=self.monthNames.filter(function(m,index){return index>=self.currentMonth}).map(function(mth,index){var pos=self.monthNames.indexOf(mth)+1;var className="active";var tText=mth;var className=tText==searchTopInput.selected.viewd?"active":"";return'<li><a class="'+className+'" href="javascript:void(0)" data-mth="'+pos+'" data-year="'+self.currentYear+'">'+tText+"</a></li>"});var showNextMonthLists=self.monthNames.filter(function(m,index){return index<self.currentMonth}).map(function(mth,index){var nextYear=self.currentYear+1;var tempY=nextYear.toString()[2]+nextYear.toString()[3];var pos=self.monthNames.indexOf(mth)+1;var tText=mth+" "+tempY;var className=tText==searchTopInput.selected.viewd?"active":"";return'<li><a class="'+className+'" href="javascript:void(0)" data-mth="'+pos+'" data-year="'+nextYear+'">'+tText+"</a></li>"});var dom='<ul id="months-when-ul">'+showCurrentMonthLists.join("")+showNextMonthLists.join("")+"</ul>";$bm("document").injectDOM("#search-month-lists",dom,"replace");searchTopInput.listenDatePicker()}}SearchTopInput.prototype.injectTopCustomizeCLists=function(lists){this.customizeActiveIndex=-1;var doms=lists.map(function(d,index){var href=baseUrl+"/trip-planner?country="+d;return'<li data-top-expert-index="'+index+'"><a href="javascript:void(0)" data-top-expert-href="'+href+'">'+d+"</a></li>"}).join("");$bm("document").injectDOM("#top-customize-trip-expert-ul",doms,"replace");this.listenTopExpertList()};SearchTopInput.prototype.listenTopExpertList=function(){var lists=document.querySelectorAll("[data-top-expert-href]");for(var i=lists.length-1;i>=0;i--){lists[i].addEventListener("click",function(e){e.preventDefault();document.querySelector("#where-customizing").value=e.target.text;searchTopInput.customizeSearchText=e.target.text;$bm("#top-customize-div").hideDOM()})}};SearchTopInput.prototype.goToTravelExpert=function(){var tempStr=searchTopInput.customizeSearchText.replace(/\s/g,"");if(tempStr.length>0){var isStringCountry=localTravelExpert.allCountries.map(function(a){return a.toLowerCase()}).indexOf(tempStr.toLowerCase())>-1;if(isStringCountry){window.location=baseUrl+"/trip-planner?country="+tempStr}else{$bm("#err-customize1").showDOM();setTimeout(function(){$bm("#err-customize1").hideDOM()},2e3)}}else{$bm(".main-search").addClass("animate__shakeX")}setTimeout(function(){$bm(".main-search").removeClass("animate__shakeX")},1e3)};SearchTopInput.prototype.search=function(value){this.customizeSelectedCountries=value==""?localTravelExpert.defaultCountries:localTravelExpert.allCountries.filter(function(c){return c.toLowerCase().indexOf(value.toLowerCase())>-1});this.injectTopCustomizeCLists(this.customizeSelectedCountries)};function topExperrtKeyListener(event){var index=searchTopInput.customizeActiveIndex;var totalLen=searchTopInput.customizeSelectedCountries.length-1;if(event.keyCode==40){index=index>=totalLen?index:index+1}if(event.keyCode==38){index=index>0?index<=totalLen?index-1:index:index}if(event.keyCode==13){if(index==-1){searchTopInput.goToTravelExpert()}else{var temp=$bm('[data-top-expert-index="'+index+'"]').elems;for(var i=temp.length-1;i>=0;i--){var li=temp[i].firstChild;document.querySelector("#where-customizing").value=li.text;$bm("#top-customize-div").hideDOM();break}}}searchTopInput.customizeActiveIndex=index;if(event.keyCode==40||event.keyCode==38){$bm("[data-top-expert-index]").removeClass("expertlistactive");$bm('[data-top-expert-index="'+index+'"]').addClass("expertlistactive")}}var searchTopInput=new SearchTopInput;searchTopInput.init();function FeaturedTrips(){this.dropDownSelector=$bm("#slim-select");this.injected=false;this.tripInjected=false}FeaturedTrips.prototype.init=function(){var self=this;$bm("document").addListener("scroll",listeningFeaturedScrollEvent);$bm("document").addListener("scroll",listeningFeaturedTripScrollEvent)};function listeningFeaturedScrollEvent(){$bm("#featured-trips").isInViewport(function(is){if(is){featuredTrips.injectActivityLists();$bm("document").addListener("scroll",listeningFeaturedScrollEvent)}})}function listeningFeaturedTripScrollEvent(){var self=this;$bm("#featured-trips").isInViewport(function(is){if(is&&!featuredTrips.tripInjected){featuredTrips.pullTrips("");$bm("document").addListener("scroll",listeningFeaturedTripScrollEvent)}});$bm(".deals-list").isInViewport(function(is){if(is&&!featuredTrips.tripInjected){featuredTrips.pullTrips("");$bm("document").addListener("scroll",listeningFeaturedTripScrollEvent)}})}FeaturedTrips.prototype.injectActivityLists=function(){var self=this;if(!this.injected){this.injected=true;$bm("document").get(baseUrl+"/activity/ws/getActivityDropDown",function(data){$bm("document").injectDOM("#featured-trips-dropdown",data,"replace");setTimeout(function(){new SlimSelect({select:"#slim-select"});self.dropDownSelector=$bm("#slim-select");self.dropDownSelector.addListener("change",function(event){event.preventDefault();$bm("#f-trips-carousel").addClass("loading");var selectedValue=event.target.options[event.target.options.selectedIndex].value;self.pullTrips(selectedValue)})},0)})}};FeaturedTrips.prototype.pullTrips=function(aid){var self=this;self.tripInjected=true;$bm("document").get(baseUrl+"/toursearch?aid="+aid,function(data){var temp=JSON.parse(data);if(!!temp.dom){$bm("document").injectDOM("#tripsSlider",temp.dom,"replace");$bm("#f-trips-carousel").removeClass("loading");initSlider();sliders.tripsSlider.rebuild();window.scrollBy(0,1)}self.injectViewMore(temp.moreUrl)})};FeaturedTrips.prototype.injectViewMore=function(dom){$bm("document").injectDOM("#more-tours-link",dom,"replace")};var featuredTrips=new FeaturedTrips;featuredTrips.init();$bm("#travel-guide-continent").addListener("change",function(event){event.preventDefault();var selectedValue=event.target.options[event.target.options.selectedIndex].value;pullTravelGuideDom(selectedValue)});function pullTravelGuideDom(continent){var url=baseUrl+"/dom/hometravelguide?continent="+continent;$bm("document").cancellerableget(url,function(res){try{$bm("document").injectDOM(".travel-guides",res,"replace")}catch(e){console.log(e)}})}
